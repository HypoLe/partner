/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

window[esri._dojoScopeName||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojo.window"],["provide","dijit._base.manager"],["provide","dijit._base.focus"],["provide","dojo.AdapterRegistry"],["provide","dijit._base.place"],["provide","dijit._base.window"],["provide","dijit._base.popup"],["provide","dijit._base.scroll"],["provide","dojo.uacss"],["provide","dijit._base.sniff"],["provide","dijit._base.typematic"],["provide","dijit._base.wai"],["provide","dijit._base"],["provide","dojo.Stateful"],["provide","dijit._WidgetBase"],["provide","dojox.mobile._base"],["provide","dojox.mobile"],["provide","dojox.mobile.parser"],["provide","dojo.parser"],["provide","dojox.mobile.app._event"],["provide","dojox.mobile.app._Widget"],["provide","dojox.mobile.app.SceneController"],["provide","dojox.mobile.app.StageController"],["provide","dojox.mobile.app.SceneAssistant"],["provide","dojox.mobile.app.AlertDialog"],["provide","dojo.string"],["provide","dojox.mobile.app.List"],["provide","dojo.fx.Toggler"],["provide","dojo.fx"],["provide","dojox.mobile.app.ListSelector"],["provide","dojox.mobile.app._FormWidget"],["provide","dojox.mobile.app.TextBox"],["provide","dojo.fx.easing"],["provide","dojox.mobile.app.ImageView"],["provide","dojox.mobile.app.ImageThumbView"],["provide","dojox.mobile.app._base"],["provide","dojox.mobileApp"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojo.window"]){_4._hasResource["dojo.window"]=true;_4.provide("dojo.window");_4.getObject("window",true,_4);_4.window.getBox=function(){var _7=(_4.doc.compatMode=="BackCompat")?_4.body():_4.doc.documentElement;var _8=_4._docScroll();return {w:_7.clientWidth,h:_7.clientHeight,l:_8.x,t:_8.y};};_4.window.get=function(_9){if(_4.isIE&&window!==document.parentWindow){_9.parentWindow.execScript("document._parentWindow = window;","Javascript");var _a=_9._parentWindow;_9._parentWindow=null;return _a;}return _9.parentWindow||_9.defaultView;};_4.window.scrollIntoView=function(_b,_c){try{_b=_4.byId(_b);var _d=_b.ownerDocument||_4.doc,_e=_d.body||_4.body(),_f=_d.documentElement||_e.parentNode,_10=_4.isIE,_11=_4.isWebKit;if((!(_4.isMoz||_10||_11||_4.isOpera)||_b==_e||_b==_f)&&(typeof _b.scrollIntoView!="undefined")){_b.scrollIntoView(false);return;}var _12=_d.compatMode=="BackCompat",_13=(_10>=9&&_b.ownerDocument.parentWindow.frameElement)?((_f.clientHeight>0&&_f.clientWidth>0&&(_e.clientHeight==0||_e.clientWidth==0||_e.clientHeight>_f.clientHeight||_e.clientWidth>_f.clientWidth))?_f:_e):(_12?_e:_f),_14=_11?_e:_13,_15=_13.clientWidth,_16=_13.clientHeight,rtl=!_4._isBodyLtr(),_17=_c||_4.position(_b),el=_b.parentNode,_18=function(el){return ((_10<=6||(_10&&_12))?false:(_4.style(el,"position").toLowerCase()=="fixed"));};if(_18(_b)){return;}while(el){if(el==_e){el=_14;}var _19=_4.position(el),_1a=_18(el);if(el==_14){_19.w=_15;_19.h=_16;if(_14==_f&&_10&&rtl){_19.x+=_14.offsetWidth-_19.w;}if(_19.x<0||!_10){_19.x=0;}if(_19.y<0||!_10){_19.y=0;}}else{var pb=_4._getPadBorderExtents(el);_19.w-=pb.w;_19.h-=pb.h;_19.x+=pb.l;_19.y+=pb.t;var _1b=el.clientWidth,_1c=_19.w-_1b;if(_1b>0&&_1c>0){_19.w=_1b;_19.x+=(rtl&&(_10||el.clientLeft>pb.l))?_1c:0;}_1b=el.clientHeight;_1c=_19.h-_1b;if(_1b>0&&_1c>0){_19.h=_1b;}}if(_1a){if(_19.y<0){_19.h+=_19.y;_19.y=0;}if(_19.x<0){_19.w+=_19.x;_19.x=0;}if(_19.y+_19.h>_16){_19.h=_16-_19.y;}if(_19.x+_19.w>_15){_19.w=_15-_19.x;}}var l=_17.x-_19.x,t=_17.y-Math.max(_19.y,0),r=l+_17.w-_19.w,bot=t+_17.h-_19.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((_10==8&&!_12)||_10>=9)){s=-s;}_17.x+=el.scrollLeft;el.scrollLeft+=s;_17.x-=el.scrollLeft;}if(bot*t>0){_17.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_17.y-=el.scrollTop;}el=(el!=_14)&&!_1a&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_b.scrollIntoView(false);}};}if(!_4._hasResource["dijit._base.manager"]){_4._hasResource["dijit._base.manager"]=true;_4.provide("dijit._base.manager");_4.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1d){if(this._hash[_1d.id]){throw new Error("Tried to register widget with id=="+_1d.id+" but that id is already registered");}this._hash[_1d.id]=_1d;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_1e,_1f){_1f=_1f||_4.global;var i=0,id;for(id in this._hash){_1e.call(_1f,this._hash[id],i++,this._hash);}return this;},filter:function(_20,_21){_21=_21||_4.global;var res=new _5.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_20.call(_21,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _5.WidgetSet(),id,_22;for(id in this._hash){_22=this._hash[id];if(_22.declaredClass==cls){res.add(_22);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_23,_24){return _4.map(this.toArray(),_23,_24);},every:function(_25,_26){_26=_26||_4.global;var x=0,i;for(i in this._hash){if(!_25.call(_26,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_27,_28){_28=_28||_4.global;var x=0,i;for(i in this._hash){if(_27.call(_28,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){_5.registry=new _5.WidgetSet();var _29=_5.registry._hash,_2a=_4.attr,_2b=_4.hasAttr,_2c=_4.style;_5.byId=function(id){return typeof id=="string"?_29[id]:id;};var _2d={};_5.getUniqueId=function(_2e){var id;do{id=_2e+"_"+(_2e in _2d?++_2d[_2e]:_2d[_2e]=0);}while(_29[id]);return _5._scopeName=="dijit"?id:_5._scopeName+"_"+id;};_5.findWidgets=function(_2f){var _30=[];function _31(_32){for(var _33=_32.firstChild;_33;_33=_33.nextSibling){if(_33.nodeType==1){var _34=_33.getAttribute("widgetId");if(_34){var _35=_29[_34];if(_35){_30.push(_35);}}else{_31(_33);}}}};_31(_2f);return _30;};_5._destroyAll=function(){_5._curFocus=null;_5._prevFocus=null;_5._activeStack=[];_4.forEach(_5.findWidgets(_4.body()),function(_36){if(!_36._destroyed){if(_36.destroyRecursive){_36.destroyRecursive();}else{if(_36.destroy){_36.destroy();}}}});};if(_4.isIE){_4.addOnWindowUnload(function(){_5._destroyAll();});}_5.byNode=function(_37){return _29[_37.getAttribute("widgetId")];};_5.getEnclosingWidget=function(_38){while(_38){var id=_38.getAttribute&&_38.getAttribute("widgetId");if(id){return _29[id];}_38=_38.parentNode;}return null;};var _39=(_5._isElementShown=function(_3a){var s=_2c(_3a);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_2a(_3a,"type")!="hidden");});_5.hasDefaultTabStop=function(_3b){switch(_3b.nodeName.toLowerCase()){case "a":return _2b(_3b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _3c;try{var _3d=_3b.contentDocument;if("designMode" in _3d&&_3d.designMode=="on"){return true;}_3c=_3d.body;}catch(e1){try{_3c=_3b.contentWindow.document.body;}catch(e2){return false;}}return _3c.contentEditable=="true"||(_3c.firstChild&&_3c.firstChild.contentEditable=="true");default:return _3b.contentEditable=="true";}};var _3e=(_5.isTabNavigable=function(_3f){if(_2a(_3f,"disabled")){return false;}else{if(_2b(_3f,"tabIndex")){return _2a(_3f,"tabIndex")>=0;}else{return _5.hasDefaultTabStop(_3f);}}});_5._getTabNavigable=function(_40){var _41,_42,_43,_44,_45,_46,_47={};function _48(_49){return _49&&_49.tagName.toLowerCase()=="input"&&_49.type&&_49.type.toLowerCase()=="radio"&&_49.name&&_49.name.toLowerCase();};var _4a=function(_4b){_4.query("> *",_4b).forEach(function(_4c){if((_4.isIE&&_4c.scopeName!=="HTML")||!_39(_4c)){return;}if(_3e(_4c)){var _4d=_2a(_4c,"tabIndex");if(!_2b(_4c,"tabIndex")||_4d==0){if(!_41){_41=_4c;}_42=_4c;}else{if(_4d>0){if(!_43||_4d<_44){_44=_4d;_43=_4c;}if(!_45||_4d>=_46){_46=_4d;_45=_4c;}}}var rn=_48(_4c);if(_4.attr(_4c,"checked")&&rn){_47[rn]=_4c;}}if(_4c.nodeName.toUpperCase()!="SELECT"){_4a(_4c);}});};if(_39(_40)){_4a(_40);}function rs(_4e){return _47[_48(_4e)]||_4e;};return {first:rs(_41),last:rs(_42),lowest:rs(_43),highest:rs(_45)};};_5.getFirstInTabbingOrder=function(_4f){var _50=_5._getTabNavigable(_4.byId(_4f));return _50.lowest?_50.lowest:_50.first;};_5.getLastInTabbingOrder=function(_51){var _52=_5._getTabNavigable(_4.byId(_51));return _52.last?_52.last:_52.highest;};_5.defaultDuration=_4.config["defaultDuration"]||200;})();}if(!_4._hasResource["dijit._base.focus"]){_4._hasResource["dijit._base.focus"]=true;_4.provide("dijit._base.focus");_4.mixin(_5,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return _5.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=_4.doc.selection,cf=_5._curFocus;if(_4.global.getSelection){sel=_4.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_53){var _54=_4.doc,_55=_53.mark;if(_55){if(_4.global.getSelection){var sel=_4.global.getSelection();if(sel&&sel.removeAllRanges){if(_55.pRange){var r=_55;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_55);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_54.selection&&_55){var rg;if(_55.pRange){rg=_55.range;}else{if(_4.isArray(_55)){rg=_54.body.createControlRange();_4.forEach(_55,function(n){rg.addElement(n);});}else{rg=_54.body.createTextRange();rg.moveToBookmark(_55);}}rg.select();}}}},getFocus:function(_56,_57){var _58=!_5._curFocus||(_56&&_4.isDescendant(_5._curFocus,_56.domNode))?_5._prevFocus:_5._curFocus;return {node:_58,bookmark:(_58==_5._curFocus)&&_4.withGlobal(_57||_4.global,_5.getBookmark),openedForWindow:_57};},focus:function(_59){if(!_59){return;}var _5a="node" in _59?_59.node:_59,_5b=_59.bookmark,_5c=_59.openedForWindow,_5d=_5b?_5b.isCollapsed:false;if(_5a){var _5e=(_5a.tagName.toLowerCase()=="iframe")?_5a.contentWindow:_5a;if(_5e&&_5e.focus){try{_5e.focus();}catch(e){}}_5._onFocusNode(_5a);}if(_5b&&_4.withGlobal(_5c||_4.global,_5.isCollapsed)&&!_5d){if(_5c){_5c.focus();}try{_4.withGlobal(_5c||_4.global,_5.moveToBookmark,null,[_5b]);}catch(e2){}}},_activeStack:[],registerIframe:function(_5f){return _5.registerWin(_5f.contentWindow,_5f);},unregisterIframe:function(_60){_5.unregisterWin(_60);},registerWin:function(_61,_62){var _63=function(evt){_5._justMouseDowned=true;setTimeout(function(){_5._justMouseDowned=false;},0);if(_4.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_5._onTouchNode(_62||evt.target||evt.srcElement,"mouse");};var doc=_4.isIE?_61.document.documentElement:_61.document;if(doc){if(_4.isIE){_61.document.body.attachEvent("onmousedown",_63);var _64=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&_5.isTabNavigable(evt.srcElement)){_5._onFocusNode(_62||evt.srcElement);}else{_5._onTouchNode(_62||evt.srcElement);}};doc.attachEvent("onactivate",_64);var _65=function(evt){_5._onBlurNode(_62||evt.srcElement);};doc.attachEvent("ondeactivate",_65);return function(){_61.document.detachEvent("onmousedown",_63);doc.detachEvent("onactivate",_64);doc.detachEvent("ondeactivate",_65);doc=null;};}else{doc.body.addEventListener("mousedown",_63,true);var _66=function(evt){_5._onFocusNode(_62||evt.target);};doc.addEventListener("focus",_66,true);var _67=function(evt){_5._onBlurNode(_62||evt.target);};doc.addEventListener("blur",_67,true);return function(){doc.body.removeEventListener("mousedown",_63,true);doc.removeEventListener("focus",_66,true);doc.removeEventListener("blur",_67,true);doc=null;};}}},unregisterWin:function(_68){_68&&_68();},_onBlurNode:function(_69){_5._prevFocus=_5._curFocus;_5._curFocus=null;if(_5._justMouseDowned){return;}if(_5._clearActiveWidgetsTimer){clearTimeout(_5._clearActiveWidgetsTimer);}_5._clearActiveWidgetsTimer=setTimeout(function(){delete _5._clearActiveWidgetsTimer;_5._setStack([]);_5._prevFocus=null;},100);},_onTouchNode:function(_6a,by){if(_5._clearActiveWidgetsTimer){clearTimeout(_5._clearActiveWidgetsTimer);delete _5._clearActiveWidgetsTimer;}var _6b=[];try{while(_6a){var _6c=_4.attr(_6a,"dijitPopupParent");if(_6c){_6a=_5.byId(_6c).domNode;}else{if(_6a.tagName&&_6a.tagName.toLowerCase()=="body"){if(_6a===_4.body()){break;}_6a=_4.window.get(_6a.ownerDocument).frameElement;}else{var id=_6a.getAttribute&&_6a.getAttribute("widgetId"),_6d=id&&_5.byId(id);if(_6d&&!(by=="mouse"&&_6d.get("disabled"))){_6b.unshift(id);}_6a=_6a.parentNode;}}}}catch(e){}_5._setStack(_6b,by);},_onFocusNode:function(_6e){if(!_6e){return;}if(_6e.nodeType==9){return;}_5._onTouchNode(_6e);if(_6e==_5._curFocus){return;}if(_5._curFocus){_5._prevFocus=_5._curFocus;}_5._curFocus=_6e;_4.publish("focusNode",[_6e]);},_setStack:function(_6f,by){var _70=_5._activeStack;_5._activeStack=_6f;for(var _71=0;_71<Math.min(_70.length,_6f.length);_71++){if(_70[_71]!=_6f[_71]){break;}}var _72;for(var i=_70.length-1;i>=_71;i--){_72=_5.byId(_70[i]);if(_72){_72._focused=false;_72.set("focused",false);_72._hasBeenBlurred=true;if(_72._onBlur){_72._onBlur(by);}_4.publish("widgetBlur",[_72,by]);}}for(i=_71;i<_6f.length;i++){_72=_5.byId(_6f[i]);if(_72){_72._focused=true;_72.set("focused",true);if(_72._onFocus){_72._onFocus(by);}_4.publish("widgetFocus",[_72,by]);}}}});_4.addOnLoad(function(){var _73=_5.registerWin(window);if(_4.isIE){_4.addOnWindowUnload(function(){_5.unregisterWin(_73);_73=null;});}});}if(!_4._hasResource["dojo.AdapterRegistry"]){_4._hasResource["dojo.AdapterRegistry"]=true;_4.provide("dojo.AdapterRegistry");_4.AdapterRegistry=function(_74){this.pairs=[];this.returnWrappers=_74||false;};_4.extend(_4.AdapterRegistry,{register:function(_75,_76,_77,_78,_79){this.pairs[((_79)?"unshift":"push")]([_75,_76,_77,_78]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _7a=this.pairs[i];if(_7a[1].apply(this,arguments)){if((_7a[3])||(this.returnWrappers)){return _7a[2];}else{return _7a[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_7b){for(var i=0;i<this.pairs.length;i++){var _7c=this.pairs[i];if(_7c[0]==_7b){this.pairs.splice(i,1);return true;}}return false;}});}if(!_4._hasResource["dijit._base.place"]){_4._hasResource["dijit._base.place"]=true;_4.provide("dijit._base.place");_5.getViewport=function(){return _4.window.getBox();};_5.placeOnScreen=function(_7d,pos,_7e,_7f){var _80=_4.map(_7e,function(_81){var c={corner:_81,pos:{x:pos.x,y:pos.y}};if(_7f){c.pos.x+=_81.charAt(1)=="L"?_7f.x:-_7f.x;c.pos.y+=_81.charAt(0)=="T"?_7f.y:-_7f.y;}return c;});return _5._place(_7d,_80);};_5._place=function(_82,_83,_84,_85){var _86=_4.window.getBox();if(!_82.parentNode||String(_82.parentNode.tagName).toLowerCase()!="body"){_4.body().appendChild(_82);}var _87=null;_4.some(_83,function(_88){var _89=_88.corner;var pos=_88.pos;var _8a=0;var _8b={w:_89.charAt(1)=="L"?(_86.l+_86.w)-pos.x:pos.x-_86.l,h:_89.charAt(1)=="T"?(_86.t+_86.h)-pos.y:pos.y-_86.t};if(_84){var res=_84(_82,_88.aroundCorner,_89,_8b,_85);_8a=typeof res=="undefined"?0:res;}var _8c=_82.style;var _8d=_8c.display;var _8e=_8c.visibility;_8c.visibility="hidden";_8c.display="";var mb=_4.marginBox(_82);_8c.display=_8d;_8c.visibility=_8e;var _8f=Math.max(_86.l,_89.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_90=Math.max(_86.t,_89.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_91=Math.min(_86.l+_86.w,_89.charAt(1)=="L"?(_8f+mb.w):pos.x),_92=Math.min(_86.t+_86.h,_89.charAt(0)=="T"?(_90+mb.h):pos.y),_93=_91-_8f,_94=_92-_90;_8a+=(mb.w-_93)+(mb.h-_94);if(_87==null||_8a<_87.overflow){_87={corner:_89,aroundCorner:_88.aroundCorner,x:_8f,y:_90,w:_93,h:_94,overflow:_8a,spaceAvailable:_8b};}return !_8a;});if(_87.overflow&&_84){_84(_82,_87.aroundCorner,_87.corner,_87.spaceAvailable,_85);}var l=_4._isBodyLtr(),s=_82.style;s.top=_87.y+"px";s[l?"left":"right"]=(l?_87.x:_86.w-_87.x-_87.w)+"px";return _87;};_5.placeOnScreenAroundNode=function(_95,_96,_97,_98){_96=_4.byId(_96);var _99=_4.position(_96,true);return _5._placeOnScreenAroundRect(_95,_99.x,_99.y,_99.w,_99.h,_97,_98);};_5.placeOnScreenAroundRectangle=function(_9a,_9b,_9c,_9d){return _5._placeOnScreenAroundRect(_9a,_9b.x,_9b.y,_9b.width,_9b.height,_9c,_9d);};_5._placeOnScreenAroundRect=function(_9e,x,y,_9f,_a0,_a1,_a2){var _a3=[];for(var _a4 in _a1){_a3.push({aroundCorner:_a4,corner:_a1[_a4],pos:{x:x+(_a4.charAt(1)=="L"?0:_9f),y:y+(_a4.charAt(0)=="T"?0:_a0)}});}return _5._place(_9e,_a3,_a2,{w:_9f,h:_a0});};_5.placementRegistry=new _4.AdapterRegistry();_5.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},_5.placeOnScreenAroundNode);_5.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},_5.placeOnScreenAroundRectangle);_5.placeOnScreenAroundElement=function(_a5,_a6,_a7,_a8){return _5.placementRegistry.match.apply(_5.placementRegistry,arguments);};_5.getPopupAroundAlignment=function(_a9,_aa){var _ab={};_4.forEach(_a9,function(pos){switch(pos){case "after":_ab[_aa?"BR":"BL"]=_aa?"BL":"BR";break;case "before":_ab[_aa?"BL":"BR"]=_aa?"BR":"BL";break;case "below-alt":_aa=!_aa;case "below":_ab[_aa?"BL":"BR"]=_aa?"TL":"TR";_ab[_aa?"BR":"BL"]=_aa?"TR":"TL";break;case "above-alt":_aa=!_aa;case "above":default:_ab[_aa?"TL":"TR"]=_aa?"BL":"BR";_ab[_aa?"TR":"TL"]=_aa?"BR":"BL";break;}});return _ab;};}if(!_4._hasResource["dijit._base.window"]){_4._hasResource["dijit._base.window"]=true;_4.provide("dijit._base.window");_5.getDocumentWindow=function(doc){return _4.window.get(doc);};}if(!_4._hasResource["dijit._base.popup"]){_4._hasResource["dijit._base.popup"]=true;_4.provide("dijit._base.popup");_5.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_ac){var _ad=_ac.declaredClass?_ac._popupWrapper:(_ac.parentNode&&_4.hasClass(_ac.parentNode,"dijitPopup")),_ae=_ac.domNode||_ac;if(!_ad){_ad=_4.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},_4.body());_ad.appendChild(_ae);var s=_ae.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_ac.declaredClass){_ac._popupWrapper=_ad;_4.connect(_ac,"destroy",function(){_4.destroy(_ad);delete _ac._popupWrapper;});}}return _ad;},moveOffScreen:function(_af){var _b0=this._createWrapper(_af);_4.style(_b0,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_b1){var _b2=this._createWrapper(_b1);_4.style(_b2,"display","none");},getTopPopup:function(){var _b3=this._stack;for(var pi=_b3.length-1;pi>0&&_b3[pi].parent===_b3[pi-1].widget;pi--){}return _b3[pi];},open:function(_b4){var _b5=this._stack,_b6=_b4.popup,_b7=_b4.orient||((_b4.parent?_b4.parent.isLeftToRight():_4._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_b8=_b4.around,id=(_b4.around&&_b4.around.id)?(_b4.around.id+"_dropdown"):("popup_"+this._idGen++);while(_b5.length&&(!_b4.parent||!_4.isDescendant(_b4.parent.domNode,_b5[_b5.length-1].widget.domNode))){_5.popup.close(_b5[_b5.length-1].widget);}var _b9=this._createWrapper(_b6);_4.attr(_b9,{id:id,style:{zIndex:this._beginZIndex+_b5.length},"class":"dijitPopup "+(_b6.baseClass||_b6["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:_b4.parent?_b4.parent.id:""});if(_4.isIE||_4.isMoz){if(!_b6.bgIframe){_b6.bgIframe=new _5.BackgroundIframe(_b9);}}var _ba=_b8?_5.placeOnScreenAroundElement(_b9,_b8,_b7,_b6.orient?_4.hitch(_b6,"orient"):null):_5.placeOnScreen(_b9,_b4,_b7=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_b4.padding);_b9.style.display="";_b9.style.visibility="visible";_b6.domNode.style.visibility="visible";var _bb=[];_bb.push(_4.connect(_b9,"onkeypress",this,function(evt){if(evt.charOrCode==_4.keys.ESCAPE&&_b4.onCancel){_4.stopEvent(evt);_b4.onCancel();}else{if(evt.charOrCode===_4.keys.TAB){_4.stopEvent(evt);var _bc=this.getTopPopup();if(_bc&&_bc.onCancel){_bc.onCancel();}}}}));if(_b6.onCancel){_bb.push(_4.connect(_b6,"onCancel",_b4.onCancel));}_bb.push(_4.connect(_b6,_b6.onExecute?"onExecute":"onChange",this,function(){var _bd=this.getTopPopup();if(_bd&&_bd.onExecute){_bd.onExecute();}}));_b5.push({widget:_b6,parent:_b4.parent,onExecute:_b4.onExecute,onCancel:_b4.onCancel,onClose:_b4.onClose,handlers:_bb});if(_b6.onOpen){_b6.onOpen(_ba);}return _ba;},close:function(_be){var _bf=this._stack;while((_be&&_4.some(_bf,function(_c0){return _c0.widget==_be;}))||(!_be&&_bf.length)){var top=_bf.pop(),_c1=top.widget,_c2=top.onClose;if(_c1.onClose){_c1.onClose();}_4.forEach(top.handlers,_4.disconnect);if(_c1&&_c1.domNode){this.hide(_c1);}if(_c2){_c2();}}}};_5._frames=new function(){var _c3=[];this.pop=function(){var _c4;if(_c3.length){_c4=_c3.pop();_c4.style.display="";}else{if(_4.isIE<9){var _c5=_4.config["dojoBlankHtmlUrl"]||(_4.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _c6="<iframe src='"+_c5+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_c4=_4.doc.createElement(_c6);}else{_c4=_4.create("iframe");_c4.src="javascript:\"\"";_c4.className="dijitBackgroundIframe";_4.style(_c4,"opacity",0.1);}_c4.tabIndex=-1;_5.setWaiRole(_c4,"presentation");}return _c4;};this.push=function(_c7){_c7.style.display="none";_c3.push(_c7);};}();_5.BackgroundIframe=function(_c8){if(!_c8.id){throw new Error("no id");}if(_4.isIE||_4.isMoz){var _c9=(this.iframe=_5._frames.pop());_c8.appendChild(_c9);if(_4.isIE<7||_4.isQuirks){this.resize(_c8);this._conn=_4.connect(_c8,"onresize",this,function(){this.resize(_c8);});}else{_4.style(_c9,{width:"100%",height:"100%"});}}};_4.extend(_5.BackgroundIframe,{resize:function(_ca){if(this.iframe){_4.style(this.iframe,{width:_ca.offsetWidth+"px",height:_ca.offsetHeight+"px"});}},destroy:function(){if(this._conn){_4.disconnect(this._conn);this._conn=null;}if(this.iframe){_5._frames.push(this.iframe);delete this.iframe;}}});}if(!_4._hasResource["dijit._base.scroll"]){_4._hasResource["dijit._base.scroll"]=true;_4.provide("dijit._base.scroll");_5.scrollIntoView=function(_cb,pos){_4.window.scrollIntoView(_cb,pos);};}if(!_4._hasResource["dojo.uacss"]){_4._hasResource["dojo.uacss"]=true;_4.provide("dojo.uacss");(function(){var d=_4,_cc=d.doc.documentElement,ie=d.isIE,_cd=d.isOpera,maj=Math.floor,ff=d.isFF,_ce=d.boxModel.replace(/-/,""),_cf={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_cd,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_cf["dj_"+_ce]=true;var _d0="";for(var clz in _cf){if(_cf[clz]){_d0+=clz+" ";}}_cc.className=d.trim(_cc.className+" "+_d0);_4._loaders.unshift(function(){if(!_4._isBodyLtr()){var _d1="dj_rtl dijitRtl "+_d0.replace(/ /g,"-rtl ");_cc.className=d.trim(_cc.className+" "+_d1);}});})();}if(!_4._hasResource["dijit._base.sniff"]){_4._hasResource["dijit._base.sniff"]=true;_4.provide("dijit._base.sniff");}if(!_4._hasResource["dijit._base.typematic"]){_4._hasResource["dijit._base.typematic"]=true;_4.provide("dijit._base.typematic");_5.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(_4.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_d2,_d3,_d4,obj,_d5,_d6,_d7){if(obj!=this._obj){this.stop();this._initialDelay=_d6||500;this._subsequentDelay=_d5||0.9;this._minDelay=_d7||10;this._obj=obj;this._evt=evt;this._node=_d3;this._currentTimeout=-1;this._count=-1;this._callback=_4.hitch(_d2,_d4);this._fireEventAndReload();this._evt=_4.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_d8,_d9,_da,_db,_dc,_dd,_de){if(_d9.keyCode){_d9.charOrCode=_d9.keyCode;_4.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_d9.charCode){_d9.charOrCode=String.fromCharCode(_d9.charCode);_4.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [_4.connect(_d8,"onkeypress",this,function(evt){if(evt.charOrCode==_d9.charOrCode&&(_d9.ctrlKey===undefined||_d9.ctrlKey==evt.ctrlKey)&&(_d9.altKey===undefined||_d9.altKey==evt.altKey)&&(_d9.metaKey===undefined||_d9.metaKey==(evt.metaKey||false))&&(_d9.shiftKey===undefined||_d9.shiftKey==evt.shiftKey)){_4.stopEvent(evt);_5.typematic.trigger(evt,_da,_d8,_db,_d9,_dc,_dd,_de);}else{if(_5.typematic._obj==_d9){_5.typematic.stop();}}}),_4.connect(_d8,"onkeyup",this,function(evt){if(_5.typematic._obj==_d9){_5.typematic.stop();}})];},addMouseListener:function(_df,_e0,_e1,_e2,_e3,_e4){var dc=_4.connect;return [dc(_df,"mousedown",this,function(evt){_4.stopEvent(evt);_5.typematic.trigger(evt,_e0,_df,_e1,_df,_e2,_e3,_e4);}),dc(_df,"mouseup",this,function(evt){_4.stopEvent(evt);_5.typematic.stop();}),dc(_df,"mouseout",this,function(evt){_4.stopEvent(evt);_5.typematic.stop();}),dc(_df,"mousemove",this,function(evt){evt.preventDefault();}),dc(_df,"dblclick",this,function(evt){_4.stopEvent(evt);if(_4.isIE){_5.typematic.trigger(evt,_e0,_df,_e1,_df,_e2,_e3,_e4);setTimeout(_4.hitch(this,_5.typematic.stop),50);}})];},addListener:function(_e5,_e6,_e7,_e8,_e9,_ea,_eb,_ec){return this.addKeyListener(_e6,_e7,_e8,_e9,_ea,_eb,_ec).concat(this.addMouseListener(_e5,_e8,_e9,_ea,_eb,_ec));}};}if(!_4._hasResource["dijit._base.wai"]){_4._hasResource["dijit._base.wai"]=true;_4.provide("dijit._base.wai");_5.wai={onload:function(){var div=_4.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(_4.config.blankGif||_4.moduleUrl("dojo","resources/blank.gif"))+"\");"}},_4.body());var cs=_4.getComputedStyle(div);if(cs){var _ed=cs.backgroundImage;var _ee=(cs.borderTopColor==cs.borderRightColor)||(_ed!=null&&(_ed=="none"||_ed=="url(invalid-url:)"));_4[_ee?"addClass":"removeClass"](_4.body(),"dijit_a11y");if(_4.isIE){div.outerHTML="";}else{_4.body().removeChild(div);}}}};if(_4.isIE||_4.isMoz){_4._loaders.unshift(_5.wai.onload);}_4.mixin(_5,{hasWaiRole:function(_ef,_f0){var _f1=this.getWaiRole(_ef);return _f0?(_f1.indexOf(_f0)>-1):(_f1.length>0);},getWaiRole:function(_f2){return _4.trim((_4.attr(_f2,"role")||"").replace("wairole:",""));},setWaiRole:function(_f3,_f4){_4.attr(_f3,"role",_f4);},removeWaiRole:function(_f5,_f6){var _f7=_4.attr(_f5,"role");if(!_f7){return;}if(_f6){var t=_4.trim((" "+_f7+" ").replace(" "+_f6+" "," "));_4.attr(_f5,"role",t);}else{_f5.removeAttribute("role");}},hasWaiState:function(_f8,_f9){return _f8.hasAttribute?_f8.hasAttribute("aria-"+_f9):!!_f8.getAttribute("aria-"+_f9);},getWaiState:function(_fa,_fb){return _fa.getAttribute("aria-"+_fb)||"";},setWaiState:function(_fc,_fd,_fe){_fc.setAttribute("aria-"+_fd,_fe);},removeWaiState:function(_ff,_100){_ff.removeAttribute("aria-"+_100);}});}if(!_4._hasResource["dijit._base"]){_4._hasResource["dijit._base"]=true;_4.provide("dijit._base");}if(!_4._hasResource["dojo.Stateful"]){_4._hasResource["dojo.Stateful"]=true;_4.provide("dojo.Stateful");_4.declare("dojo.Stateful",null,{postscript:function(_101){if(_101){_4.mixin(this,_101);}},get:function(name){return this[name];},set:function(name,_102){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _103=this[name];this[name]=_102;if(this._watchCallbacks){this._watchCallbacks(name,_103,_102);}return this;},watch:function(name,_104){var _105=this._watchCallbacks;if(!_105){var self=this;_105=this._watchCallbacks=function(name,_106,_107,_108){var _109=function(_10a){if(_10a){_10a=_10a.slice();for(var i=0,l=_10a.length;i<l;i++){try{_10a[i].call(self,name,_106,_107);}catch(e){console.error(e);}}}};_109(_105["_"+name]);if(!_108){_109(_105["*"]);}};}if(!_104&&typeof name==="function"){_104=name;name="*";}else{name="_"+name;}var _10b=_105[name];if(typeof _10b!=="object"){_10b=_105[name]=[];}_10b.push(_104);return {unwatch:function(){_10b.splice(_4.indexOf(_10b,_104),1);}};}});}if(!_4._hasResource["dijit._WidgetBase"]){_4._hasResource["dijit._WidgetBase"]=true;_4.provide("dijit._WidgetBase");(function(){_4.declare("dijit._WidgetBase",_4.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(_4.config.blankGif||_4.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_10c,_10d){this.create(_10c,_10d);},create:function(_10e,_10f){this.srcNodeRef=_4.byId(_10f);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_10e){this.params=_10e;_4._mixin(this,_10e);}this.postMixInProperties();if(!this.id){this.id=_5.getUniqueId(this.declaredClass.replace(/\./g,"_"));}_5.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _110=this.srcNodeRef;if(_110&&_110.parentNode&&this.domNode!==_110){_110.parentNode.replaceChild(this.domNode,_110);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _111=function(attr,_112){if((_112.params&&attr in _112.params)||_112[attr]){_112.set(attr,_112[attr]);}};for(var attr in this.attributeMap){_111(attr,this);}_4.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_111(a,this);}},this);},_getSetterAttributes:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var r=(ctor._setterAttrs=[]),_113,_114=ctor.prototype;for(var _115 in _114){if(_4.isFunction(_114[_115])&&(_113=_115.match(/^_set([a-zA-Z]*)Attr$/))&&_113[1]){r.push(_113[1].charAt(0).toLowerCase()+_113[1].substr(1));}}}return ctor._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_4.create("div");}if(this.baseClass){var _116=this.baseClass.split(" ");if(!this.isLeftToRight()){_116=_116.concat(_4.map(_116,function(name){return name+"Rtl";}));}_4.addClass(this.domNode,_116);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_117){this._beingDestroyed=true;this.destroyDescendants(_117);this.destroy(_117);},destroy:function(_118){this._beingDestroyed=true;this.uninitialize();var d=_4,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_119){dfe(_119,d.disconnect);});dfe(this._subscribes,function(_11a){dun(_11a);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_118);_5.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_11b){if(this.bgIframe){this.bgIframe.destroy(_11b);delete this.bgIframe;}if(this.domNode){if(_11b){_4.removeAttr(this.domNode,"widgetId");}else{_4.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_11b){_4.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_11c){_4.forEach(this.getChildren(),function(_11d){if(_11d.destroyRecursive){_11d.destroyRecursive(_11c);}});},uninitialize:function(){return false;},_setClassAttr:function(_11e){var _11f=this[this.attributeMap["class"]||"domNode"];_4.replaceClass(_11f,_11e,this["class"]);this._set("class",_11e);},_setStyleAttr:function(_120){var _121=this[this.attributeMap.style||"domNode"];if(_4.isObject(_120)){_4.style(_121,_120);}else{if(_121.style.cssText){_121.style.cssText+="; "+_120;}else{_121.style.cssText=_120;}}this._set("style",_120);},_attrToDom:function(attr,_122){var _123=this.attributeMap[attr];_4.forEach(_4.isArray(_123)?_123:[_123],function(_124){var _125=this[_124.node||_124||"domNode"];var type=_124.type||"attribute";switch(type){case "attribute":if(_4.isFunction(_122)){_122=_4.hitch(this,_122);}var _126=_124.attribute?_124.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);_4.attr(_125,_126,_122);break;case "innerText":_125.innerHTML="";_125.appendChild(_4.doc.createTextNode(_122));break;case "innerHTML":_125.innerHTML=_122;break;case "class":_4.replaceClass(_125,_122,this[attr]);break;}},this);},get:function(name){var _127=this._getAttrNames(name);return this[_127.g]?this[_127.g]():this[name];},set:function(name,_128){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _129=this._getAttrNames(name);if(this[_129.s]){var _12a=this[_129.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_128);}this._set(name,_128);}return _12a||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_12b){var _12c=this[name];this[name]=_12b;if(this._watchCallbacks&&this._created&&_12b!==_12c){this._watchCallbacks(name,_12c,_12b);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?_4.query("[widgetId]",this.containerNode).map(_5.byNode):[];},getChildren:function(){return this.containerNode?_5.findWidgets(this.containerNode):[];},connect:function(obj,_12d,_12e){var _12f=[_4._connect(obj,_12d,this,_12e)];this._connects.push(_12f);return _12f;},disconnect:function(_130){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_130){_4.forEach(_130,_4.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_131,_132){var _133=_4.subscribe(_131,this,_132);this._subscribes.push(_133);return _133;},unsubscribe:function(_134){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_134){_4.unsubscribe(_134);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_4._isBodyLtr();},placeAt:function(_135,_136){if(_135.declaredClass&&_135.addChild){_135.addChild(this,_136);}else{_4.place(this.domNode,_135,_136);}return this;}});})();}if(!_4._hasResource["dojox.mobile._base"]){_4._hasResource["dojox.mobile._base"]=true;_4.provide("dojox.mobile._base");_4.isBB=(navigator.userAgent.indexOf("BlackBerry")!=-1)&&!_4.isWebKit;_4.declare("dojox.mobile.View",_5._WidgetBase,{selected:false,keepScrollPos:true,_started:false,constructor:function(_137,node){if(node){_4.byId(node).style.visibility="hidden";}},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("DIV");this.domNode.className="mblView";this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");var id=location.href.match(/#(\w+)([^\w=]|$)/)?RegExp.$1:null;this._visible=this.selected&&!id||this.id==id;if(this.selected){_6.mobile._defaultView=this;}},startup:function(){if(this._started){return;}var _138=this;setTimeout(function(){if(!_138._visible){_138.domNode.style.display="none";}else{_6.mobile.currentView=_138;_138.onStartView();}_138.domNode.style.visibility="visible";},_4.isIE?100:0);this._started=true;},onStartView:function(){},onBeforeTransitionIn:function(_139,dir,_13a,_13b,_13c){},onAfterTransitionIn:function(_13d,dir,_13e,_13f,_140){},onBeforeTransitionOut:function(_141,dir,_142,_143,_144){},onAfterTransitionOut:function(_145,dir,_146,_147,_148){},_saveState:function(_149,dir,_14a,_14b,_14c){this._context=_14b;this._method=_14c;if(_14a=="none"||!_4.isWebKit){_14a=null;}this._moveTo=_149;this._dir=dir;this._transition=_14a;this._arguments=[];var i;for(i=0;i<arguments.length;i++){this._arguments.push(arguments[i]);}this._args=[];if(_14b||_14c){for(i=5;i<arguments.length;i++){this._args.push(arguments[i]);}}},performTransition:function(_14d,dir,_14e,_14f,_150){if(_4.hash){if(typeof (_14d)=="string"&&_14d.charAt(0)=="#"&&!_6.mobile._params){_6.mobile._params=[];for(var i=0;i<arguments.length;i++){_6.mobile._params.push(arguments[i]);}_4.hash(_14d);return;}}this._saveState.apply(this,arguments);var _151;if(_14d){if(typeof (_14d)=="string"){_14d.match(/^#?([^&]+)/);_151=RegExp.$1;}else{_151=_14d;}}else{if(!this._dummyNode){this._dummyNode=_4.doc.createElement("DIV");_4.body().appendChild(this._dummyNode);}_151=this._dummyNode;}var _152=this.domNode;_151=this.toNode=_4.byId(_151);if(!_151){alert("dojox.mobile.View#performTransition: destination view not found: "+_151);}_151.style.visibility="hidden";_151.style.display="";this.onBeforeTransitionOut.apply(this,arguments);var _153=_5.byNode(_151);if(_153){if(this.keepScrollPos&&!_5.getEnclosingWidget(this.domNode.parentNode)){var _154=_4.body().scrollTop||_4.doc.documentElement.scrollTop||_4.global.pageYOffset||0;if(dir==1){_151.style.top="0px";if(_154>1){_152.style.top=-_154+"px";if(_4.config["mblHideAddressBar"]!==false){setTimeout(function(){_4.global.scrollTo(0,1);},0);}}}else{if(_154>1||_151.offsetTop!==0){var _155=-_151.offsetTop;_151.style.top="0px";_152.style.top=_155-_154+"px";if(_4.config["mblHideAddressBar"]!==false&&_155>0){setTimeout(function(){_4.global.scrollTo(0,_155+1);},0);}}}}else{_151.style.top="0px";}_153.onBeforeTransitionIn.apply(_153,arguments);}_151.style.display="none";_151.style.visibility="visible";this._doTransition(_152,_151,_14e,dir);},_doTransition:function(_156,_157,_158,dir){var rev=(dir==-1)?" reverse":"";_157.style.display="";if(!_158||_158=="none"){this.domNode.style.display="none";this.invokeCallback();}else{_4.addClass(_156,_158+" out"+rev);_4.addClass(_157,_158+" in"+rev);}},onAnimationStart:function(e){},onAnimationEnd:function(e){var _159=false;if(_4.hasClass(this.domNode,"out")){_159=true;this.domNode.style.display="none";_4.forEach([this._transition,"in","out","reverse"],function(s){_4.removeClass(this.domNode,s);},this);}if(e.animationName.indexOf("shrink")===0){var li=e.target;li.style.display="none";_4.removeClass(li,"mblCloseContent");}if(_159){this.invokeCallback();}this.domNode&&(this.domNode.className="mblView");},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);var _15a=_5.byNode(this.toNode);if(_15a){_15a.onAfterTransitionIn.apply(_15a,this._arguments);}_6.mobile.currentView=_15a;var c=this._context,m=this._method;if(!c&&!m){return;}if(!m){m=c;c=null;}c=c||_4.global;if(typeof (m)=="string"){c[m].apply(c,this._args);}else{m.apply(c,this._args);}},getShowingView:function(){var _15b=this.domNode.parentNode.childNodes;for(var i=0;i<_15b.length;i++){if(_4.hasClass(_15b[i],"mblView")&&_4.style(_15b[i],"display")!="none"){return _5.byNode(_15b[i]);}}},show:function(){var fs=this.getShowingView().domNode.style;var ts=this.domNode.style;fs.display="none";ts.display="";_6.mobile.currentView=this;},addChild:function(_15c){this.containerNode.appendChild(_15c.domNode);}});_4.declare("dojox.mobile.Heading",_5._WidgetBase,{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("H1");this.domNode.className="mblHeading";this._view=_5.getEnclosingWidget(this.domNode.parentNode);if(this.label){this.domNode.appendChild(document.createTextNode(this.label));}else{this.label="";_4.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){this.label+=n.nodeValue;}},this);this.label=_4.trim(this.label);}if(this.back){var btn=_4.create("DIV",{className:"mblArrowButton"},this.domNode,"first");var head=_4.create("DIV",{className:"mblArrowButtonHead"},btn);var body=_4.create("DIV",{className:"mblArrowButtonBody mblArrowButtonText"},btn);this._body=body;this._head=head;this._btn=btn;body.innerHTML=this.back;this.connect(body,"onclick","onClick");var neck=_4.create("DIV",{className:"mblArrowButtonNeck"},btn);btn.style.width=body.offsetWidth+head.offsetWidth+"px";this.setLabel(this.label);}},startup:function(){if(this._btn){this._btn.style.width=this._body.offsetWidth+this._head.offsetWidth+"px";}},onClick:function(e){var h1=this.domNode;_4.addClass(h1,"mblArrowButtonSelected");setTimeout(function(){_4.removeClass(h1,"mblArrowButtonSelected");},1000);this.goTo(this.moveTo,this.href);},setLabel:function(_15d){if(_15d!=this.label){this.label=_15d;this.domNode.firstChild.nodeValue=_15d;}},goTo:function(_15e,href){if(!this._view){this._view=_5.byNode(this.domNode.parentNode);}if(!this._view){return;}if(href){this._view.performTransition(null,-1,this.transition,this,function(){location.href=href;});}else{if(_6.mobile.app&&_6.mobile.app.STAGE_CONTROLLER_ACTIVE){_4.publish("/dojox/mobile/app/goback");}else{this._view.performTransition(_15e,-1,this.transition);}}}});_4.declare("dojox.mobile.RoundRect",_5._WidgetBase,{shadow:false,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("DIV");this.domNode.className=this.shadow?"mblRoundRect mblShadow":"mblRoundRect";}});_4.declare("dojox.mobile.RoundRectCategory",_5._WidgetBase,{label:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("H2");this.domNode.className="mblRoundRectCategory";if(this.label){this.domNode.innerHTML=this.label;}else{this.label=this.domNode.innerHTML;}}});_4.declare("dojox.mobile.EdgeToEdgeCategory",_6.mobile.RoundRectCategory,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";}});_4.declare("dojox.mobile.RoundRectList",_5._WidgetBase,{transition:"slide",iconBase:"",iconPos:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("UL");this.domNode.className="mblRoundRectList";},addChild:function(_15f){this.containerNode.appendChild(_15f.domNode);_15f.inheritParams();_15f.setIcon();}});_4.declare("dojox.mobile.EdgeToEdgeList",_6.mobile.RoundRectList,{stateful:false,buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});_4.declare("dojox.mobile.AbstractItem",_5._WidgetBase,{icon:"",iconPos:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",transition:"",transitionDir:1,callback:null,sync:true,label:"",toggle:false,_duration:800,inheritParams:function(){var _160=this.getParentWidget();if(_160){if(!this.transition){this.transition=_160.transition;}if(!this.icon){this.icon=_160.iconBase;}if(!this.iconPos){this.iconPos=_160.iconPos;}}},findCurrentView:function(_161){var w;if(_161){w=_5.byId(_161);if(w){return w.getShowingView();}}var n=this.domNode.parentNode;while(true){w=_5.getEnclosingWidget(n);if(!w){return null;}if(w.performTransition){break;}n=w.domNode.parentNode;}return w;},transitionTo:function(_162,href,url,_163){var w=this.findCurrentView(_162);if(!w||_162&&w===_5.byId(_162)){return;}if(href){if(this.hrefTarget){_6.mobile.openWindow(this.href,this.hrefTarget);}else{w.performTransition(null,this.transitionDir,this.transition,this,function(){location.href=href;});}return;}else{if(_163){_4.publish("/dojox/mobile/app/pushScene",[_163]);return;}}if(url){var id;if(_6.mobile._viewMap&&_6.mobile._viewMap[url]){id=_6.mobile._viewMap[url];}else{var text=this._text;if(!text){if(this.sync){text=_4.trim(_4._getText(url));}else{_4["require"]("dojo._base.xhr");var prog=_6.mobile.ProgressIndicator.getInstance();_4.body().appendChild(prog.domNode);prog.start();var xhr=_4.xhrGet({url:url,handleAs:"text"});xhr.addCallback(_4.hitch(this,function(_164,_165){prog.stop();if(_164){this._text=_164;this.transitionTo(_162,href,url,_163);}}));xhr.addErrback(function(_166){prog.stop();alert("Failed to load "+url+"\n"+(_166.description||_166));});return;}}this._text=null;id=this._parse(text);if(!_6.mobile._viewMap){_6.mobile._viewMap=[];}_6.mobile._viewMap[url]=id;}_162=id;w=this.findCurrentView(_162)||w;}w.performTransition(_162,this.transitionDir,this.transition,this.callback&&this,this.callback);},_parse:function(text){var _167=_4.create("DIV");var view;var id=this.urlTarget;var _168=_5.byId(id)&&_5.byId(id).containerNode||_4.byId(id)||_6.mobile.currentView&&_6.mobile.currentView.domNode.parentNode||_4.body();if(text.charAt(0)=="<"){_167.innerHTML=text;view=_167.firstChild;if(!view&&view.nodeType!=1){alert("dojox.mobile.AbstractItem#transitionTo: invalid view content");return;}view.setAttribute("_started","true");view.style.visibility="hidden";_168.appendChild(_167);(_6.mobile.parser||_4.parser).parse(_167);_168.appendChild(_168.removeChild(_167).firstChild);}else{if(text.charAt(0)=="{"){_168.appendChild(_167);this._ws=[];view=this._instantiate(eval("("+text+")"),_167);for(var i=0;i<this._ws.length;i++){var w=this._ws[i];w.startup&&!w._started&&(!w.getParent||!w.getParent())&&w.startup();}this._ws=null;}}view.style.display="none";view.style.visibility="visible";var id=view.id;return _4.hash?"#"+id:id;},_instantiate:function(obj,node,_169){var _16a;for(var key in obj){if(key.charAt(0)=="@"){continue;}var cls=_4.getObject(key);if(!cls){continue;}var _16b={};var _16c=cls.prototype;var objs=_4.isArray(obj[key])?obj[key]:[obj[key]];for(var i=0;i<objs.length;i++){for(var prop in objs[i]){if(prop.charAt(0)=="@"){var val=objs[i][prop];prop=prop.substring(1);if(typeof _16c[prop]=="string"){_16b[prop]=val;}else{if(typeof _16c[prop]=="number"){_16b[prop]=val-0;}else{if(typeof _16c[prop]=="boolean"){_16b[prop]=(val!="false");}else{if(typeof _16c[prop]=="object"){_16b[prop]=eval("("+val+")");}}}}}}_16a=new cls(_16b,node);if(!node){this._ws.push(_16a);}if(_169&&_169.addChild){_169.addChild(_16a);}this._instantiate(objs[i],null,_16a);}}return _16a&&_16a.domNode;},createDomButton:function(_16d,_16e){var s=_16d.className;if(s.match(/mblDomButton\w+_(\d+)/)){var nDiv=RegExp.$1-0;for(var i=0,p=(_16e||_16d);i<nDiv;i++){p=_4.create("DIV",null,p);}}},select:function(_16f){},defaultClickAction:function(){if(this.toggle){this.select(this.selected);}else{if(!this.selected){this.select();if(!this.selectOne){var _170=this;setTimeout(function(){_170.select(true);},this._duration);}if(this.moveTo||this.href||this.url||this.scene){this.transitionTo(this.moveTo,this.href,this.url,this.scene);}}}},getParentWidget:function(){var ref=this.srcNodeRef||this.domNode;return ref&&ref.parentNode?_5.getEnclosingWidget(ref.parentNode):null;}});_4.declare("dojox.mobile.ListItem",_6.mobile.AbstractItem,{rightText:"",btnClass:"",anchorLabel:false,noArrow:false,selected:false,buildRendering:function(){this.inheritParams();var a=this.anchorNode=_4.create("A");a.className="mblListItemAnchor";var box=_4.create("DIV");box.className="mblListItemTextBox";if(this.anchorLabel){box.style.cursor="pointer";}var r=this.srcNodeRef;if(r){for(var i=0,len=r.childNodes.length;i<len;i++){box.appendChild(r.removeChild(r.firstChild));}}if(this.label){box.appendChild(_4.doc.createTextNode(this.label));}a.appendChild(box);if(this.rightText){this._setRightTextAttr(this.rightText);}if(this.moveTo||this.href||this.url||this.clickable){var _171=this.getParentWidget();if(!this.noArrow&&!(_171&&_171.stateful)){var _172=_4.create("DIV");_172.className="mblArrow";a.appendChild(_172);}this.connect(a,"onclick","onClick");}else{if(this.btnClass){var div=this.btnNode=_4.create("DIV");div.className=this.btnClass+" mblRightButton";div.appendChild(_4.create("DIV"));div.appendChild(_4.create("P"));var _173=_4.create("DIV");_173.className="mblRightButtonContainer";_173.appendChild(div);a.appendChild(_173);_4.addClass(a,"mblListItemAnchorHasRightButton");setTimeout(function(){_173.style.width=div.offsetWidth+"px";_173.style.height=div.offsetHeight+"px";if(_4.isIE){a.parentNode.style.height=a.parentNode.offsetHeight+"px";}},0);}}if(this.anchorLabel){box.style.display="inline";}var li=this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("LI");li.className="mblListItem"+(this.selected?" mblItemSelected":"");li.appendChild(a);this.setIcon();},setIcon:function(){if(this.iconNode){return;}var a=this.anchorNode;if(this.icon&&this.icon!="none"){var img=this.iconNode=_4.create("IMG");img.className="mblListItemIcon";img.src=this.icon;this.domNode.insertBefore(img,a);_6.mobile.setupIcon(this.iconNode,this.iconPos);_4.removeClass(a,"mblListItemAnchorNoIcon");}else{_4.addClass(a,"mblListItemAnchorNoIcon");}},onClick:function(e){var a=e.currentTarget;var li=a.parentNode;if(_4.hasClass(li,"mblItemSelected")){return;}if(this.anchorLabel){for(var p=e.target;p.tagName!="LI";p=p.parentNode){if(p.className=="mblListItemTextBox"){_4.addClass(p,"mblListItemTextBoxSelected");setTimeout(function(){_4.removeClass(p,"mblListItemTextBoxSelected");},1000);this.onAnchorLabelClicked(e);return;}}}if(this.getParentWidget().stateful){for(var i=0,c=li.parentNode.childNodes;i<c.length;i++){_4.removeClass(c[i],"mblItemSelected");}}else{setTimeout(function(){_4.removeClass(li,"mblItemSelected");},1000);}_4.addClass(li,"mblItemSelected");this.transitionTo(this.moveTo,this.href,this.url,this.scene);},onAnchorLabelClicked:function(e){},_setRightTextAttr:function(text){this.rightText=text;if(!this._rightTextNode){this._rightTextNode=_4.create("DIV",{className:"mblRightText"},this.anchorNode);}this._rightTextNode.innerHTML=text;}});_4.declare("dojox.mobile.Switch",_5._WidgetBase,{value:"on",leftLabel:"ON",rightLabel:"OFF",_width:53,buildRendering:function(){this.domNode=this.srcNodeRef||_4.doc.createElement("DIV");this.domNode.className="mblSwitch";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\">"+this.leftLabel+"</div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\">"+this.rightLabel+"</div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];_4.addClass(this.domNode,(this.value=="on")?"mblSwitchOn":"mblSwitchOff");this[this.value=="off"?"left":"right"].style.display="none";},postCreate:function(){this.connect(this.knob,"onclick","onClick");this.connect(this.knob,"touchstart","onTouchStart");this.connect(this.knob,"mousedown","onTouchStart");},_changeState:function(_174){this.inner.style.left="";_4.addClass(this.domNode,"mblSwitchAnimation");_4.removeClass(this.domNode,(_174=="on")?"mblSwitchOff":"mblSwitchOn");_4.addClass(this.domNode,(_174=="on")?"mblSwitchOn":"mblSwitchOff");var _175=this;setTimeout(function(){_175[_174=="off"?"left":"right"].style.display="none";_4.removeClass(_175.domNode,"mblSwitchAnimation");},300);},onClick:function(e){if(this._moved){return;}this.value=(this.value=="on")?"off":"on";this._changeState(this.value);this.onStateChanged(this.value);},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(e.targetTouches){this.touchStartX=e.targetTouches[0].clientX;this._conn1=_4.connect(this.inner,"touchmove",this,"onTouchMove");this._conn2=_4.connect(this.inner,"touchend",this,"onTouchEnd");}this.left.style.display="block";this.right.style.display="block";_4.stopEvent(e);},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return false;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";this._moved=true;},onTouchEnd:function(e){_4.disconnect(this._conn1);_4.disconnect(this._conn2);if(this.innerStartX==this.inner.offsetLeft){if(_4.isWebKit){var ev=_4.doc.createEvent("MouseEvents");ev.initEvent("click",true,true);this.knob.dispatchEvent(ev);}return;}var _176=(this.inner.offsetLeft<-(this._width/2))?"off":"on";this._changeState(_176);if(_176!=this.value){this.value=_176;this.onStateChanged(this.value);}},onStateChanged:function(_177){}});_4.declare("dojox.mobile.Button",_5._WidgetBase,{btnClass:"mblBlueButton",duration:1000,label:null,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("BUTTON");this.domNode.className="mblButton "+this.btnClass;if(this.label){this.domNode.innerHTML=this.label;}this.connect(this.domNode,"onclick","onClick");},onClick:function(e){var _178=this.domNode;var c="mblButtonSelected "+this.btnClass+"Selected";_4.addClass(_178,c);setTimeout(function(){_4.removeClass(_178,c);},this.duration);}});_4.declare("dojox.mobile.ToolBarButton",_6.mobile.AbstractItem,{selected:false,_defaultColor:"mblColorDefault",_selColor:"mblColorDefaultSel",buildRendering:function(){this.inheritParams();this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("div");_4.addClass(this.domNode,"mblToolbarButton mblArrowButtonText");var _179;if(this.selected){_179=this._selColor;}else{if(this.domNode.className.indexOf("mblColor")==-1){_179=this._defaultColor;}}_4.addClass(this.domNode,_179);if(this.label){this.domNode.innerHTML=this.label;}else{this.label=this.domNode.innerHTML;}if(this.icon&&this.icon!="none"){var img;if(this.iconPos){var _17a=_4.create("DIV",null,this.domNode);img=_4.create("IMG",null,_17a);img.style.position="absolute";var arr=this.iconPos.split(/[ ,]/);_4.style(_17a,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});}else{img=_4.create("IMG",null,this.domNode);}img.src=this.icon;_6.mobile.setupIcon(img,this.iconPos);this.iconNode=img;}this.createDomButton(this.domNode);this.connect(this.domNode,"onclick","onClick");},select:function(_17b){_4.toggleClass(this.domNode,this._selColor,!_17b);this.selected=!_17b;},onClick:function(e){this.defaultClickAction();}});_4.declare("dojox.mobile.ProgressIndicator",null,{interval:100,colors:["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#B8B9B8","#AEAFAE","#A4A5A4","#9A9A9A","#8E8E8E","#838383"],_bars:[],constructor:function(){this.domNode=_4.create("DIV");this.domNode.className="mblProgContainer";for(var i=0;i<12;i++){var div=_4.create("DIV");div.className="mblProg mblProg"+i;this.domNode.appendChild(div);this._bars.push(div);}},start:function(){var cntr=0;var _17c=this;this.timer=setInterval(function(){cntr--;cntr=cntr<0?11:cntr;var c=_17c.colors;for(var i=0;i<12;i++){var idx=(cntr+i)%12;_17c._bars[i].style.backgroundColor=c[idx];}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}}});_6.mobile.ProgressIndicator._instance=null;_6.mobile.ProgressIndicator.getInstance=function(){if(!_6.mobile.ProgressIndicator._instance){_6.mobile.ProgressIndicator._instance=new _6.mobile.ProgressIndicator();}return _6.mobile.ProgressIndicator._instance;};_6.mobile.addClass=function(){var _17d=document.getElementsByTagName("link");for(var i=0,len=_17d.length;i<len;i++){if(_17d[i].href.match(/dojox\/mobile\/themes\/(\w+)\//)){_6.mobile.theme=RegExp.$1;_4.addClass(_4.body(),_6.mobile.theme);break;}}};_6.mobile.setupIcon=function(_17e,_17f){if(_17e&&_17f){var arr=_4.map(_17f.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_17e.style.clip="rect("+t+"px "+r+"px "+b+"px "+l+"px)";_17e.style.top=_4.style(_17e,"top")-t+"px";_17e.style.left=_4.style(_17e.parentNode,"paddingLeft")-l+"px";}};_6.mobile.hideAddressBar=function(){_4.body().style.minHeight="1000px";setTimeout(function(){scrollTo(0,1);},100);setTimeout(function(){scrollTo(0,1);},400);setTimeout(function(){scrollTo(0,1);_4.body().style.minHeight=(_4.global.innerHeight||_4.doc.documentElement.clientHeight)+"px";},1000);};_6.mobile.openWindow=function(url,_180){_4.global.open(url,_180||"_blank");};_4._loaders.unshift(function(){var _181=_4.body().getElementsByTagName("*");var i,len,s;len=_181.length;for(i=0;i<len;i++){s=_181[i].getAttribute("dojoType");if(s){if(_181[i].parentNode.getAttribute("lazy")=="true"){_181[i].setAttribute("__dojoType",s);_181[i].removeAttribute("dojoType");}}}});_4.addOnLoad(function(){_6.mobile.addClass();if(_4.config["mblApplyPageStyles"]!==false){_4.addClass(_4.doc.documentElement,"mobile");}if(_4.config["mblHideAddressBar"]!==false){_6.mobile.hideAddressBar();if(_4.config["mblAlwaysHideAddressBar"]==true){if(_4.global.onorientationchange!==undefined){_4.connect(_4.global,"onorientationchange",_6.mobile.hideAddressBar);}else{_4.connect(_4.global,"onresize",_6.mobile.hideAddressBar);}}}var _182=_4.body().getElementsByTagName("*");var i,len=_182.length,s;for(i=0;i<len;i++){s=_182[i].getAttribute("__dojoType");if(s){_182[i].setAttribute("dojoType",s);_182[i].removeAttribute("__dojoType");}}if(_4.hash){var _183=function(root){var arr;arr=_5.findWidgets(root);var _184=arr;for(var i=0;i<_184.length;i++){arr=arr.concat(_183(_184[i].containerNode));}return arr;};_4.subscribe("/dojo/hashchange",null,function(_185){var view=_6.mobile.currentView;if(!view){return;}var _186=_6.mobile._params;if(!_186){var _187=_185?_185:_6.mobile._defaultView.id;var _188=_183(view.domNode);var dir=1,_189="slide";for(i=0;i<_188.length;i++){var w=_188[i];if("#"+_187==w.moveTo){_189=w.transition;dir=(w instanceof _6.mobile.Heading)?-1:1;break;}}_186=[_187,dir,_189];}view.performTransition.apply(view,_186);_6.mobile._params=null;});}_4.body().style.visibility="visible";});_5.getEnclosingWidget=function(node){while(node&&node.tagName!=="BODY"){if(node.getAttribute&&node.getAttribute("widgetId")){return _5.registry.byId(node.getAttribute("widgetId"));}node=node._parentNode||node.parentNode;}return null;};}if(!_4._hasResource["dojox.mobile"]){_4._hasResource["dojox.mobile"]=true;_4.provide("dojox.mobile");_4.experimental("dojox.mobile");}if(!_4._hasResource["dojox.mobile.parser"]){_4._hasResource["dojox.mobile.parser"]=true;_4.provide("dojox.mobile.parser");_4.provide("dojo.parser");_6.mobile.parser=new function(){this.instantiate=function(list,_18a){var ws=[];if(list){var i,len;len=list.length;for(i=0;i<len;i++){var node=list[i];var cls=_4.getObject(_4.attr(node,"dojoType"));var _18b=cls.prototype;var _18c={};if(_18a){for(var name in _18a){_18c[name]=_18a[name];}}for(var prop in _18b){var val=_4.attr(node,prop);if(!val){continue;}if(typeof _18b[prop]=="string"){_18c[prop]=val;}else{if(typeof _18b[prop]=="number"){_18c[prop]=val-0;}else{if(typeof _18b[prop]=="boolean"){_18c[prop]=(val!="false");}else{if(typeof _18b[prop]=="object"){_18c[prop]=eval("("+val+")");}}}}}_18c["class"]=node.className;_18c["style"]=node.style&&node.style.cssText;var _18d=new cls(_18c,node);ws.push(_18d);var jsId=node.getAttribute("jsId");if(jsId){_4.setObject(jsId,_18d);}}len=ws.length;for(i=0;i<len;i++){var w=ws[i];w.startup&&!w._started&&(!w.getParent||!w.getParent())&&w.startup();}}return ws;};this.parse=function(_18e,_18f){if(!_18e){_18e=_4.body();}else{if(!_18f&&_18e.rootNode){_18e=_18e.rootNode;}}var _190=_18e.getElementsByTagName("*");var list=[];for(var i=0,len=_190.length;i<len;i++){if(_190[i].getAttribute("dojoType")){list.push(_190[i]);}}return this.instantiate(list,_18f);};}();_4._loaders.unshift(function(){if(_4.config.parseOnLoad){_6.mobile.parser.parse();}});}if(!_4._hasResource["dojox.mobile.app._event"]){_4._hasResource["dojox.mobile.app._event"]=true;_4.provide("dojox.mobile.app._event");_4.experimental("dojox.mobile.app._event.js");_4.mixin(_6.mobile.app,{eventMap:{},connectFlick:function(_191,_192,_193){var _194;var _195;var _196=false;var _197;var _198;var _199;var _19a;var _19b;var time;var _19c=_4.connect("onmousedown",_191,function(_19d){_196=false;_194=_19d.targetTouches?_19d.targetTouches[0].clientX:_19d.clientX;_195=_19d.targetTouches?_19d.targetTouches[0].clientY:_19d.clientY;time=(new Date()).getTime();_199=_4.connect(_191,"onmousemove",_19e);_19a=_4.connect(_191,"onmouseup",onUp);});var _19e=function(_19f){_4.stopEvent(_19f);_197=_19f.targetTouches?_19f.targetTouches[0].clientX:_19f.clientX;_198=_19f.targetTouches?_19f.targetTouches[0].clientY:_19f.clientY;if(Math.abs(Math.abs(_197)-Math.abs(_194))>15){_196=true;_19b=(_197>_194)?"ltr":"rtl";}else{if(Math.abs(Math.abs(_198)-Math.abs(_195))>15){_196=true;_19b=(_198>_195)?"ttb":"btt";}}};var onUp=function(_1a0){_4.stopEvent(_1a0);_199&&_4.disconnect(_199);_19a&&_4.disconnect(_19a);if(_196){var _1a1={target:_191,direction:_19b,duration:(new Date()).getTime()-time};if(_192&&_193){_192[_193](_1a1);}else{_193(_1a1);}}};}});_6.mobile.app.isIPhone=(_4.isSafari&&(navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1));_6.mobile.app.isWebOS=(navigator.userAgent.indexOf("webOS")>-1);_6.mobile.app.isAndroid=(navigator.userAgent.toLowerCase().indexOf("android")>-1);if(_6.mobile.app.isIPhone||_6.mobile.app.isAndroid){_6.mobile.app.eventMap={onmousedown:"ontouchstart",mousedown:"ontouchstart",onmouseup:"ontouchend",mouseup:"ontouchend",onmousemove:"ontouchmove",mousemove:"ontouchmove"};}_4._oldConnect=_4._connect;_4._connect=function(obj,_1a2,_1a3,_1a4,_1a5){_1a2=_6.mobile.app.eventMap[_1a2]||_1a2;if(_1a2=="flick"||_1a2=="onflick"){if(_4.global["Mojo"]){_1a2=Mojo.Event.flick;}else{return _6.mobile.app.connectFlick(obj,_1a3,_1a4);}}return _4._oldConnect(obj,_1a2,_1a3,_1a4,_1a5);};}if(!_4._hasResource["dojox.mobile.app._Widget"]){_4._hasResource["dojox.mobile.app._Widget"]=true;_4.provide("dojox.mobile.app._Widget");_4.experimental("dojox.mobile.app._Widget");_4.declare("dojox.mobile.app._Widget",_5._WidgetBase,{getScroll:function(){return {x:_4.global.scrollX,y:_4.global.scrollY};},connect:function(_1a6,_1a7,fn){if(_1a7.toLowerCase()=="dblclick"||_1a7.toLowerCase()=="ondblclick"){if(_4.global["Mojo"]){return this.connect(_1a6,Mojo.Event.tap,fn);}}return this.inherited(arguments);}});}if(!_4._hasResource["dojox.mobile.app.SceneController"]){_4._hasResource["dojox.mobile.app.SceneController"]=true;_4.provide("dojox.mobile.app.SceneController");_4.experimental("dojox.mobile.app.SceneController");(function(){var app=_6.mobile.app;var _1a8={};_4.declare("dojox.mobile.app.SceneController",_6.mobile.View,{stageController:null,keepScrollPos:false,init:function(_1a9,_1aa){this.sceneName=_1a9;this.params=_1aa;var _1ab=app.resolveTemplate(_1a9);this._deferredInit=new _4.Deferred();if(_1a8[_1a9]){this._setContents(_1a8[_1a9]);}else{_4.xhrGet({url:_1ab,handleAs:"text"}).addCallback(_4.hitch(this,this._setContents));}return this._deferredInit;},_setContents:function(_1ac){_1a8[this.sceneName]=_1ac;this.domNode.innerHTML="<div>"+_1ac+"</div>";var _1ad="";var _1ae=this.sceneName.split("-");for(var i=0;i<_1ae.length;i++){_1ad+=_1ae[i].substring(0,1).toUpperCase()+_1ae[i].substring(1);}_1ad+="Assistant";this.sceneAssistantName=_1ad;var _1af=this;_6.mobile.app.loadResourcesForScene(this.sceneName,function(){console.log("All resources for ",_1af.sceneName," loaded");var _1b0;if(typeof (_4.global[_1ad])!="undefined"){_1af._initAssistant();}else{var _1b1=app.resolveAssistant(_1af.sceneName);_4.xhrGet({url:_1b1,handleAs:"text"}).addCallback(function(text){try{_4.eval(text);}catch(e){console.log("Error initializing code for scene "+_1af.sceneName+". Please check for syntax errors");throw e;}_1af._initAssistant();});}});},_initAssistant:function(){console.log("Instantiating the scene assistant "+this.sceneAssistantName);var cls=_4.getObject(this.sceneAssistantName);if(!cls){throw Error("Unable to resolve scene assistant "+this.sceneAssistantName);}this.assistant=new cls(this.params);this.assistant.controller=this;this.assistant.domNode=this.domNode.firstChild;this.assistant.setup();this._deferredInit.callback();},query:function(_1b2,node){return _4.query(_1b2,node||this.domNode);},parse:function(node){var _1b3=this._widgets=_6.mobile.parser.parse(node||this.domNode,{controller:this});for(var i=0;i<_1b3.length;i++){_1b3[i].set("controller",this);}},getWindowSize:function(){return {w:_4.global.innerWidth,h:_4.global.innerHeight};},showAlertDialog:function(_1b4){var size=_4.marginBox(this.assistant.domNode);var _1b5=new _6.mobile.app.AlertDialog(_4.mixin(_1b4,{controller:this}));this.assistant.domNode.appendChild(_1b5.domNode);console.log("Appended ",_1b5.domNode," to ",this.assistant.domNode);_1b5.show();},popupSubMenu:function(info){var _1b6=new _6.mobile.app.ListSelector({controller:this,destroyOnHide:true,onChoose:info.onChoose});this.assistant.domNode.appendChild(_1b6.domNode);_1b6.set("data",info.choices);_1b6.show(info.fromNode);}});})();}if(!_4._hasResource["dojox.mobile.app.StageController"]){_4._hasResource["dojox.mobile.app.StageController"]=true;_4.provide("dojox.mobile.app.StageController");_4.experimental("dojox.mobile.app.StageController");_4.declare("dojox.mobile.app.StageController",null,{scenes:null,effect:"fade",constructor:function(node){this.domNode=node;this.scenes=[];if(_4.config.mobileAnim){this.effect=_4.config.mobileAnim;}},getActiveSceneController:function(){return this.scenes[this.scenes.length-1];},pushScene:function(_1b7,_1b8){if(this._opInProgress){return;}this._opInProgress=true;var node=_4.create("div",{"class":"scene-wrapper",style:{visibility:"hidden"}},this.domNode);var _1b9=new _6.mobile.app.SceneController({},node);if(this.scenes.length>0){this.scenes[this.scenes.length-1].assistant.deactivate();}this.scenes.push(_1b9);var _1ba=this;_4.forEach(this.scenes,this.setZIndex);_1b9.stageController=this;_1b9.init(_1b7,_1b8).addCallback(function(){if(_1ba.scenes.length==1){_1b9.domNode.style.visibility="visible";_1ba.scenes[_1ba.scenes.length-1].assistant.activate(_1b8);_1ba._opInProgress=false;}else{_1ba.scenes[_1ba.scenes.length-2].performTransition(_1ba.scenes[_1ba.scenes.length-1].domNode,1,_1ba.effect,null,function(){_1ba.scenes[_1ba.scenes.length-1].assistant.activate(_1b8);_1ba._opInProgress=false;});}});},setZIndex:function(_1bb,idx){_4.style(_1bb.domNode,"zIndex",idx+1);},popScene:function(data){if(this._opInProgress){return;}var _1bc=this;if(this.scenes.length>1){this._opInProgress=true;this.scenes[_1bc.scenes.length-2].assistant.activate(data);this.scenes[_1bc.scenes.length-1].performTransition(_1bc.scenes[this.scenes.length-2].domNode,-1,this.effect,null,function(){_1bc._destroyScene(_1bc.scenes[_1bc.scenes.length-1]);_1bc.scenes.splice(_1bc.scenes.length-1,1);_1bc._opInProgress=false;});}else{console.log("cannot pop the scene if there is just one");}},popScenesTo:function(_1bd,data){if(this._opInProgress){return;}while(this.scenes.length>2&&this.scenes[this.scenes.length-2].sceneName!=_1bd){this._destroyScene(this.scenes[this.scenes.length-2]);this.scenes.splice(this.scenes.length-2,1);}this.popScene(data);},_destroyScene:function(_1be){_1be.assistant.deactivate();_1be.assistant.destroy();_1be.destroyRecursive();}});}if(!_4._hasResource["dojox.mobile.app.SceneAssistant"]){_4._hasResource["dojox.mobile.app.SceneAssistant"]=true;_4.provide("dojox.mobile.app.SceneAssistant");_4.experimental("dojox.mobile.app.SceneAssistant");_4.declare("dojox.mobile.app.SceneAssistant",null,{constructor:function(){},setup:function(){},activate:function(_1bf){},deactivate:function(){},destroy:function(){var _1c0=_4.query("> [widgetId]",this.containerNode).map(_5.byNode);_4.forEach(_1c0,function(_1c1){_1c1.destroyRecursive();});this.disconnect();},connect:function(obj,_1c2,_1c3){if(!this._connects){this._connects=[];}this._connects.push(_4.connect(obj,_1c2,_1c3));},disconnect:function(){_4.forEach(this._connects,_4.disconnect);this._connects=[];}});}if(!_4._hasResource["dojox.mobile.app.AlertDialog"]){_4._hasResource["dojox.mobile.app.AlertDialog"]=true;_4.provide("dojox.mobile.app.AlertDialog");_4.experimental("dojox.mobile.app.AlertDialog");_4.declare("dojox.mobile.app.AlertDialog",_5._WidgetBase,{title:"",text:"",controller:null,buttons:null,defaultButtonLabel:"OK",onChoose:null,constructor:function(){this.onClick=_4.hitch(this,this.onClick);this._handleSelect=_4.hitch(this,this._handleSelect);},buildRendering:function(){this.domNode=_4.create("div",{"class":"alertDialog"});var _1c4=_4.create("div",{"class":"alertDialogBody"},this.domNode);_4.create("div",{"class":"alertTitle",innerHTML:this.title||""},_1c4);_4.create("div",{"class":"alertText",innerHTML:this.text||""},_1c4);var _1c5=_4.create("div",{"class":"alertBtns"},_1c4);if(!this.buttons||this.buttons.length==0){this.buttons=[{label:this.defaultButtonLabel,value:"ok","class":"affirmative"}];}var _1c6=this;_4.forEach(this.buttons,function(_1c7){var btn=new _6.mobile.Button({btnClass:_1c7["class"]||"",label:_1c7.label});btn._dialogValue=_1c7.value;_4.place(btn.domNode,_1c5);_1c6.connect(btn,"onClick",_1c6._handleSelect);});var _1c8=this.controller.getWindowSize();this.mask=_4.create("div",{"class":"dialogUnderlayWrapper",innerHTML:"<div class=\"dialogUnderlay\"></div>",style:{width:_1c8.w+"px",height:_1c8.h+"px"}},this.controller.assistant.domNode);this.connect(this.mask,"onclick",function(){_1c6.onChoose&&_1c6.onChoose();_1c6.hide();});},postCreate:function(){this.subscribe("/dojox/mobile/app/goback",this._handleSelect);},_handleSelect:function(_1c9){var node;console.log("handleSelect");if(_1c9&&_1c9.target){node=_1c9.target;while(!_5.byNode(node)){node-node.parentNode;}}if(this.onChoose){this.onChoose(node?_5.byNode(node)._dialogValue:undefined);}this.hide();},show:function(){this._doTransition(1);},hide:function(){this._doTransition(-1);},_doTransition:function(dir){var anim;var h=_4.marginBox(this.domNode.firstChild).h;var _1ca=this.controller.getWindowSize().h;console.log("dialog height = "+h," body height = "+_1ca);var high=_1ca-h;var low=_1ca;var _1cb=_4.fx.slideTo({node:this.domNode,duration:400,top:{start:dir<0?high:low,end:dir<0?low:high}});var _1cc=_4[dir<0?"fadeOut":"fadeIn"]({node:this.mask,duration:400});var anim=_4.fx.combine([_1cb,_1cc]);var _1cd=this;_4.connect(anim,"onEnd",this,function(){if(dir<0){_1cd.domNode.style.display="none";_4.destroy(_1cd.domNode);_4.destroy(_1cd.mask);}});anim.play();},destroy:function(){this.inherited(arguments);_4.destroy(this.mask);},onClick:function(){}});}if(!_4._hasResource["dojo.string"]){_4._hasResource["dojo.string"]=true;_4.provide("dojo.string");_4.getObject("string",true,_4);_4.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_4.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_4.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_4.string.substitute=function(_1ce,map,_1cf,_1d0){_1d0=_1d0||_4.global;_1cf=_1cf?_4.hitch(_1d0,_1cf):function(v){return v;};return _1ce.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1d1,key,_1d2){var _1d3=_4.getObject(key,false,map);if(_1d2){_1d3=_4.getObject(_1d2,false,_1d0).call(_1d0,_1d3,key);}return _1cf(_1d3,key).toString();});};_4.string.trim=String.prototype.trim?_4.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!_4._hasResource["dojox.mobile.app.List"]){_4._hasResource["dojox.mobile.app.List"]=true;_4.provide("dojox.mobile.app.List");_4.experimental("dojox.mobile.app.List");(function(){var _1d4={};_4.declare("dojox.mobile.app.List",_5._WidgetBase,{items:null,itemTemplate:"",emptyTemplate:"",dividerTemplate:"",dividerFunction:null,labelDelete:"Delete",labelCancel:"Cancel",controller:null,autoDelete:true,enableDelete:true,enableHold:true,formatters:null,_templateLoadCount:0,_mouseDownPos:null,baseClass:"list",constructor:function(){this._checkLoadComplete=_4.hitch(this,this._checkLoadComplete);this._replaceToken=_4.hitch(this,this._replaceToken);this._postDeleteAnim=_4.hitch(this,this._postDeleteAnim);},postCreate:function(){var _1d5=this;if(this.emptyTemplate){this._templateLoadCount++;}if(this.itemTemplate){this._templateLoadCount++;}if(this.dividerTemplate){this._templateLoadCount++;}this.connect(this.domNode,"onmousedown",function(_1d6){var _1d7=_1d6;if(_1d6.targetTouches&&_1d6.targetTouches.length>0){_1d7=_1d6.targetTouches[0];}var _1d8=_1d5._getRowNode(_1d6.target);if(_1d8){_1d5._setDataInfo(_1d8,_1d6);_1d5._selectRow(_1d8);_1d5._mouseDownPos={x:_1d7.pageX,y:_1d7.pageY};_1d5._dragThreshold=null;}});this.connect(this.domNode,"onmouseup",function(_1d9){if(_1d9.targetTouches&&_1d9.targetTouches.length>0){_1d9=_1d9.targetTouches[0];}var _1da=_1d5._getRowNode(_1d9.target);if(_1da){_1d5._setDataInfo(_1da,_1d9);if(_1d5._selectedRow){_1d5.onSelect(_1da._data,_1da._idx,_1da);}this._deselectRow();}});if(this.enableDelete){this.connect(this.domNode,"mousemove",function(_1db){_4.stopEvent(_1db);if(!_1d5._selectedRow){return;}var _1dc=_1d5._getRowNode(_1db.target);if(_1d5.enableDelete&&_1dc&&!_1d5._deleting){_1d5.handleDrag(_1db);}});}this.connect(this.domNode,"onclick",function(_1dd){if(_1dd.touches&&_1dd.touches.length>0){_1dd=_1dd.touches[0];}var _1de=_1d5._getRowNode(_1dd.target,true);if(_1de){_1d5._setDataInfo(_1de,_1dd);}});this.connect(this.domNode,"mouseout",function(_1df){if(_1df.touches&&_1df.touches.length>0){_1df=_1df.touches[0];}if(_1df.target==_1d5._selectedRow){_1d5._deselectRow();}});if(!this.itemTemplate){throw Error("An item template must be provided to "+this.declaredClass);}this._loadTemplate(this.itemTemplate,"itemTemplate",this._checkLoadComplete);if(this.emptyTemplate){this._loadTemplate(this.emptyTemplate,"emptyTemplate",this._checkLoadComplete);}if(this.dividerTemplate){this._loadTemplate(this.dividerTemplate,"dividerTemplate",this._checkLoadComplete);}},handleDrag:function(_1e0){var _1e1=_1e0;if(_1e0.targetTouches&&_1e0.targetTouches.length>0){_1e1=_1e0.targetTouches[0];}var diff=_1e1.pageX-this._mouseDownPos.x;var _1e2=Math.abs(diff);if(_1e2>10&&!this._dragThreshold){this._dragThreshold=_4.marginBox(this._selectedRow).w*0.6;if(!this.autoDelete){this.createDeleteButtons(this._selectedRow);}}this._selectedRow.style.left=(_1e2>10?diff:0)+"px";if(this._dragThreshold&&this._dragThreshold<_1e2){this.preDelete(diff);}},handleDragCancel:function(){if(this._deleting){return;}_4.removeClass(this._selectedRow,"hold");this._selectedRow.style.left=0;this._mouseDownPos=null;this._dragThreshold=null;this._deleteBtns&&_4.style(this._deleteBtns,"display","none");},preDelete:function(_1e3){var self=this;this._deleting=true;_4.animateProperty({node:this._selectedRow,duration:400,properties:{left:{end:_1e3+((_1e3>0?1:-1)*this._dragThreshold*0.8)}},onEnd:_4.hitch(this,function(){if(this.autoDelete){this.deleteRow(this._selectedRow);}})}).play();},deleteRow:function(row){_4.style(row,{visibility:"hidden",minHeight:"0px"});_4.removeClass(row,"hold");this._deleteAnimConn=this.connect(row,"webkitAnimationEnd",this._postDeleteAnim);_4.addClass(row,"collapsed");},_postDeleteAnim:function(_1e4){if(this._deleteAnimConn){this.disconnect(this._deleteAnimConn);this._deleteAnimConn=null;}var row=this._selectedRow;var _1e5=row.nextSibling;var _1e6=row.previousSibling;if(_1e6&&_1e6._isDivider){if(!_1e5||_1e5._isDivider){_1e6.parentNode.removeChild(_1e6);}}row.parentNode.removeChild(row);this.onDelete(row._data,row._idx,this.items);while(_1e5){if(_1e5._idx){_1e5._idx--;}_1e5=_1e5.nextSibling;}_4.destroy(row);_4.query("> *:not(.buttons)",this.domNode).forEach(this.applyClass);this._deleting=false;this._deselectRow();},createDeleteButtons:function(_1e7){var mb=_4.marginBox(_1e7);var pos=_4._abs(_1e7,true);if(!this._deleteBtns){this._deleteBtns=_4.create("div",{"class":"buttons"},this.domNode);this.buttons=[];this.buttons.push(new _6.mobile.Button({btnClass:"mblRedButton",label:this.labelDelete}));this.buttons.push(new _6.mobile.Button({btnClass:"mblBlueButton",label:this.labelCancel}));_4.place(this.buttons[0].domNode,this._deleteBtns);_4.place(this.buttons[1].domNode,this._deleteBtns);_4.addClass(this.buttons[0].domNode,"deleteBtn");_4.addClass(this.buttons[1].domNode,"cancelBtn");this._handleButtonClick=_4.hitch(this._handleButtonClick);this.connect(this._deleteBtns,"onclick",this._handleButtonClick);}_4.removeClass(this._deleteBtns,"fade out fast");_4.style(this._deleteBtns,{display:"",width:mb.w+"px",height:mb.h+"px",top:(_1e7.offsetTop)+"px",left:"0px"});},onDelete:function(data,_1e8,_1e9){_1e9.splice(_1e8,1);if(_1e9.length<1){this.render();}},cancelDelete:function(){this._deleting=false;this.handleDragCancel();},_handleButtonClick:function(_1ea){if(_1ea.touches&&_1ea.touches.length>0){_1ea=_1ea.touches[0];}var node=_1ea.target;if(_4.hasClass(node,"deleteBtn")){this.deleteRow(this._selectedRow);}else{if(_4.hasClass(node,"cancelBtn")){this.cancelDelete();}else{return;}}_4.addClass(this._deleteBtns,"fade out");},applyClass:function(node,idx,_1eb){_4.removeClass(node,"first last");if(idx==0){_4.addClass(node,"first");}if(idx==_1eb.length-1){_4.addClass(node,"last");}},_setDataInfo:function(_1ec,_1ed){_1ed.item=_1ec._data;_1ed.index=_1ec._idx;},onSelect:function(data,_1ee,_1ef){},_selectRow:function(row){if(this._deleting&&this._selectedRow&&row!=this._selectedRow){this.cancelDelete();}if(!_4.hasClass(row,"row")){return;}if(this.enableHold||this.enableDelete){_4.addClass(row,"hold");}this._selectedRow=row;},_deselectRow:function(){if(!this._selectedRow||this._deleting){return;}this.handleDragCancel();_4.removeClass(this._selectedRow,"hold");this._selectedRow=null;},_getRowNode:function(_1f0,_1f1){while(_1f0&&!_1f0._data&&_1f0!=this.domNode){if(!_1f1&&_4.hasClass(_1f0,"noclick")){return null;}_1f0=_1f0.parentNode;}return _1f0==this.domNode?null:_1f0;},applyTemplate:function(_1f2,data){return _4._toDom(_4.string.substitute(_1f2,data,this._replaceToken,this.formatters||this));},render:function(){_4.query("> *:not(.buttons)",this.domNode).forEach(_4.destroy);if(this.items.length<1&&this.emptyTemplate){_4.place(_4._toDom(this.emptyTemplate),this.domNode,"first");}else{this.domNode.appendChild(this._renderRange(0,this.items.length));}if(_4.hasClass(this.domNode.parentNode,"mblRoundRect")){_4.addClass(this.domNode.parentNode,"mblRoundRectList");}var divs=_4.query("> .row",this.domNode);if(divs.length>0){_4.addClass(divs[0],"first");_4.addClass(divs[divs.length-1],"last");}},_renderRange:function(_1f3,_1f4){var rows=[];var row,i;var frag=document.createDocumentFragment();_1f3=Math.max(0,_1f3);_1f4=Math.min(_1f4,this.items.length);for(i=_1f3;i<_1f4;i++){row=this.applyTemplate(this.itemTemplate,this.items[i]);_4.addClass(row,"row");row._data=this.items[i];row._idx=i;rows.push(row);}if(!this.dividerFunction||!this.dividerTemplate){for(i=_1f3;i<_1f4;i++){rows[i]._data=this.items[i];rows[i]._idx=i;frag.appendChild(rows[i]);}}else{var _1f5=null;var _1f6;var _1f7;for(i=_1f3;i<_1f4;i++){rows[i]._data=this.items[i];rows[i]._idx=i;_1f6=this.dividerFunction(this.items[i]);if(_1f6&&_1f6!=_1f5){_1f7=this.applyTemplate(this.dividerTemplate,{label:_1f6,item:this.items[i]});_1f7._isDivider=true;frag.appendChild(_1f7);_1f5=_1f6;}frag.appendChild(rows[i]);}}return frag;},_replaceToken:function(_1f8,key){if(key.charAt(0)=="!"){_1f8=_4.getObject(key.substr(1),false,_this);}if(typeof _1f8=="undefined"){return "";}if(_1f8==null){return "";}return key.charAt(0)=="!"?_1f8:_1f8.toString().replace(/"/g,"&quot;");},_checkLoadComplete:function(){this._templateLoadCount--;if(this._templateLoadCount<1&&this.get("items")){this.render();}},_loadTemplate:function(url,_1f9,_1fa){if(!url){_1fa();return;}if(_1d4[url]){this.set(_1f9,_1d4[url]);_1fa();}else{var _1fb=this;_4.xhrGet({url:url,sync:false,handleAs:"text",load:function(text){_1d4[url]=_4.trim(text);_1fb.set(_1f9,_1d4[url]);_1fa();}});}},_setFormattersAttr:function(_1fc){this.formatters=_1fc;},_setItemsAttr:function(_1fd){this.items=_1fd||[];if(this._templateLoadCount<1&&_1fd){this.render();}},destroy:function(){if(this.buttons){_4.forEach(this.buttons,function(_1fe){_1fe.destroy();});this.buttons=null;}this.inherited(arguments);}});})();}if(!_4._hasResource["dojo.fx.Toggler"]){_4._hasResource["dojo.fx.Toggler"]=true;_4.provide("dojo.fx.Toggler");_4.declare("dojo.fx.Toggler",null,{node:null,showFunc:_4.fadeIn,hideFunc:_4.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _1ff=this;_4.mixin(_1ff,args);_1ff.node=args.node;_1ff._showArgs=_4.mixin({},args);_1ff._showArgs.node=_1ff.node;_1ff._showArgs.duration=_1ff.showDuration;_1ff.showAnim=_1ff.showFunc(_1ff._showArgs);_1ff._hideArgs=_4.mixin({},args);_1ff._hideArgs.node=_1ff.node;_1ff._hideArgs.duration=_1ff.hideDuration;_1ff.hideAnim=_1ff.hideFunc(_1ff._hideArgs);_4.connect(_1ff.showAnim,"beforeBegin",_4.hitch(_1ff.hideAnim,"stop",true));_4.connect(_1ff.hideAnim,"beforeBegin",_4.hitch(_1ff.showAnim,"stop",true));},show:function(_200){return this.showAnim.play(_200||0);},hide:function(_201){return this.hideAnim.play(_201||0);}});}if(!_4._hasResource["dojo.fx"]){_4._hasResource["dojo.fx"]=true;_4.provide("dojo.fx");(function(){var d=_4,_202={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _203=function(_204){this._index=-1;this._animations=_204||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_203,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_205,_206){if(!this._current){this._current=this._animations[this._index=0];}if(!_206&&this._current.status()=="playing"){return this;}var _207=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_208=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_209=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_207);d.disconnect(_208);d.disconnect(_209);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_20a,_20b){this.pause();var _20c=this.duration*_20a;this._current=null;d.some(this._animations,function(a){if(a.duration<=_20c){this._current=a;return true;}_20c-=a.duration;return false;});if(this._current){this._current.gotoPercent(_20c/this._current.duration,_20b);}return this;},stop:function(_20d){if(this._current){if(_20d){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_203,_202);_4.fx.chain=function(_20e){return new _203(_20e);};var _20f=function(_210){this._animations=_210||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_210,function(a){var _211=a.duration;if(a.delay){_211+=a.delay;}if(this.duration<_211){this.duration=_211;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_20f,{_doAction:function(_212,args){d.forEach(this._animations,function(a){a[_212].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_213,args){var t=this._pseudoAnimation;t[_213].apply(t,args);},play:function(_214,_215){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_216,_217){var ms=this.duration*_216;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_217);});this._call("gotoPercent",arguments);return this;},stop:function(_218){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,_4.disconnect);}});d.extend(_20f,_202);_4.fx.combine=function(_219){return new _20f(_219);};_4.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _21a=d.style(node,"height");return Math.max(_21a,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};_4.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};_4.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!_4._hasResource["dojox.mobile.app.ListSelector"]){_4._hasResource["dojox.mobile.app.ListSelector"]=true;_4.provide("dojox.mobile.app.ListSelector");_4.experimental("dojox.mobile.app.ListSelector");_4.declare("dojox.mobile.app.ListSelector",_6.mobile.app._Widget,{data:null,controller:null,onChoose:null,destroyOnHide:false,_setDataAttr:function(data){this.data=data;if(this.data){this.render();}},postCreate:function(){_4.addClass(this.domNode,"listSelector");var _21b=this;this.connect(this.domNode,"onclick",function(_21c){if(!_4.hasClass(_21c.target,"listSelectorRow")){return;}if(_21b.onChoose){_21b.onChoose(_21b.data[_21c.target._idx].value);}_21b.hide();});this.connect(this.domNode,"onmousedown",function(_21d){if(!_4.hasClass(_21d.target,"listSelectorRow")){return;}_4.addClass(_21d.target,"listSelectorRow-selected");});this.connect(this.domNode,"onmouseup",function(_21e){if(!_4.hasClass(_21e.target,"listSelectorRow")){return;}_4.removeClass(_21e.target,"listSelectorRow-selected");});this.connect(this.domNode,"onmouseout",function(_21f){if(!_4.hasClass(_21f.target,"listSelectorRow")){return;}_4.removeClass(_21f.target,"listSelectorRow-selected");});var _220=this.controller.getWindowSize();this.mask=_4.create("div",{"class":"dialogUnderlayWrapper",innerHTML:"<div class=\"dialogUnderlay\"></div>"},this.controller.assistant.domNode);this.connect(this.mask,"onclick",function(){_21b.onChoose&&_21b.onChoose();_21b.hide();});},show:function(_221){var _222;var _223=this.controller.getWindowSize();var _224;if(_221){_224=_4._abs(_221);_222=_224;}else{_222.x=_223.w/2;_222.y=200;}console.log("startPos = ",_222);_4.style(this.domNode,{opacity:0,display:"",width:Math.floor(_223.w*0.8)+"px"});var _225=0;_4.query(">",this.domNode).forEach(function(node){_4.style(node,{"float":"left"});_225=Math.max(_225,_4.marginBox(node).w);_4.style(node,{"float":"none"});});_225=Math.min(_225,Math.round(_223.w*0.8))+_4.style(this.domNode,"paddingLeft")+_4.style(this.domNode,"paddingRight")+1;_4.style(this.domNode,"width",_225+"px");var _226=_4.marginBox(this.domNode).h;var _227=this;var _228=_224?Math.max(30,_224.y-_226-10):this.getScroll().y+30;console.log("fromNodePos = ",_224," targetHeight = ",_226," targetY = "+_228," startPos ",_222);var _229=_4.animateProperty({node:this.domNode,duration:400,properties:{width:{start:1,end:_225},height:{start:1,end:_226},top:{start:_222.y,end:_228},left:{start:_222.x,end:(_223.w/2-_225/2)},opacity:{start:0,end:1},fontSize:{start:1}},onEnd:function(){_4.style(_227.domNode,"width","inherit");}});var _22a=_4.fadeIn({node:this.mask,duration:400});_4.fx.combine([_229,_22a]).play();},hide:function(){var _22b=this;var _22c=_4.animateProperty({node:this.domNode,duration:500,properties:{width:{end:1},height:{end:1},opacity:{end:0},fontSize:{end:1}},onEnd:function(){if(_22b.get("destroyOnHide")){_22b.destroy();}}});var _22d=_4.fadeOut({node:this.mask,duration:400});_4.fx.combine([_22c,_22d]).play();},render:function(){_4.empty(this.domNode);_4.style(this.domNode,"opacity",0);var row;for(var i=0;i<this.data.length;i++){row=_4.create("div",{"class":"listSelectorRow "+(this.data[i].className||""),innerHTML:this.data[i].label},this.domNode);row._idx=i;if(i==0){_4.addClass(row,"first");}if(i==this.data.length-1){_4.addClass(row,"last");}}},destroy:function(){this.inherited(arguments);_4.destroy(this.mask);}});}if(!_4._hasResource["dojox.mobile.app._FormWidget"]){_4._hasResource["dojox.mobile.app._FormWidget"]=true;_4.provide("dojox.mobile.app._FormWidget");_4.experimental("dojox.mobile.app._FormWidget");_4.declare("dojox.mobile.app._FormWidget",_5._WidgetBase,{name:"",alt:"",value:"",type:"text",disabled:false,intermediateChanges:false,scrollOnFocus:false,attributeMap:_4.delegate(_5._WidgetBase.prototype.attributeMap,{value:"focusNode",id:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_22e){this.disabled=_22e;_4.attr(this.focusNode,"disabled",_22e);if(this.valueNode){_4.attr(this.valueNode,"disabled",_22e);}},_onFocus:function(e){if(this.scrollOnFocus){_4.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(_4.style(this.domNode,"display")!="none");},focus:function(){this.focusNode.focus();},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_22f){},_onChangeActive:false,_handleOnChange:function(_230,_231){this._lastValue=_230;if(this._lastValueReported==undefined&&(_231===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_230;}if((this.intermediateChanges||_231||_231===undefined)&&((typeof _230!=typeof this._lastValueReported)||this.compare(_230,this._lastValueReported)!=0)){this._lastValueReported=_230;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(_4.hitch(this,function(){this._onChangeHandle=null;this.onChange(_230);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},_onMouseDown:function(e){if(this.isFocusable()){var _232=this.connect(_4.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_232);});}},selectInputText:function(_233,_234,stop){var _235=_4.global;var _236=_4.doc;_233=_4.byId(_233);if(isNaN(_234)){_234=0;}if(isNaN(stop)){stop=_233.value?_233.value.length:0;}_5.focus(_233);if(_235["getSelection"]&&_233.setSelectionRange){_233.setSelectionRange(_234,stop);}}});_4.declare("dojox.mobile.app._FormValueWidget",_6.mobile.app._FormWidget,{readOnly:false,attributeMap:_4.delegate(_6.mobile.app._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_237){this.readOnly=_237;_4.attr(this.focusNode,"readOnly",_237);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_238,_239){this.value=_238;this._handleOnChange(_238,_239);},_getValueAttr:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});}if(!_4._hasResource["dojox.mobile.app.TextBox"]){_4._hasResource["dojox.mobile.app.TextBox"]=true;_4.provide("dojox.mobile.app.TextBox");_4.experimental("dojox.mobile.app.TextBox");_4.declare("dojox.mobile.app.TextBox",_6.mobile.app._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",baseClass:"mblTextBox",attributeMap:_4.delegate(_6.mobile.app._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),buildRendering:function(){var node=this.srcNodeRef;if(!node||node.tagName!="INPUT"){node=_4.create("input",{});}_4.attr(node,{type:"text",value:_4.attr(node,"value")||"",placeholder:this.placeHolder||null});this.domNode=this.textbox=this.focusNode=node;},_setPlaceHolderAttr:function(v){this.placeHolder=v;if(this.textbox){_4.attr(this.textbox,"placeholder",v);}},_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_23a,_23b,_23c){var _23d;if(_23a!==undefined){_23d=this.filter(_23a);if(typeof _23c!="string"){if(_23d!==null&&((typeof _23d!="number")||!isNaN(_23d))){_23c=this.filter(this.format(_23d,this.constraints));}else{_23c="";}}}if(_23c!=null&&_23c!=undefined&&((typeof _23c)!="number"||!isNaN(_23c))&&this.textbox.value!=_23c){this.textbox.value=_23c;}this.inherited(arguments,[_23d,_23b]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_23e){if(_23e===null||_23e===undefined){_23e="";}else{if(typeof _23e!="string"){_23e=String(_23e);}}this.textbox.value=_23e;this._setValueAttr(this.get("value"),undefined,_23e);},format:function(_23f,_240){return ((_23f==null||_23f==undefined)?"":(_23f.toString?_23f.toString():_23f));},parse:function(_241,_242){return _241;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case _4.keys.SHIFT:case _4.keys.ALT:case _4.keys.CTRL:case _4.keys.TAB:return;}}if(this.intermediateChanges){var _243=this;setTimeout(function(){_243._handleOnChange(_243.get("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(_4.isMoz||_4.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=_4.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&_4.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _244;_244=this.textbox.selectionStart==this.textbox.selectionEnd;if(_244){this.selectInputText(this.textbox);}});}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});}if(!_4._hasResource["dojo.fx.easing"]){_4._hasResource["dojo.fx.easing"]=true;_4.provide("dojo.fx.easing");_4.getObject("fx.easing",true,_4);_4.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-_4.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return _4.fx.easing.bounceIn(n*2)/2;}return (_4.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!_4._hasResource["dojox.mobile.app.ImageView"]){_4._hasResource["dojox.mobile.app.ImageView"]=true;_4.provide("dojox.mobile.app.ImageView");_4.experimental("dojox.mobile.app.ImageView");_4.declare("dojox.mobile.app.ImageView",_6.mobile.app._Widget,{zoom:1,zoomCenterX:0,zoomCenterY:0,maxZoom:5,autoZoomLevel:3,disableAutoZoom:false,disableSwipe:false,autoZoomEvent:null,_leftImg:null,_centerImg:null,_rightImg:null,_leftSmallImg:null,_centerSmallImg:null,_rightSmallImg:null,constructor:function(){this.panX=0;this.panY=0;this.handleLoad=_4.hitch(this,this.handleLoad);this._updateAnimatedZoom=_4.hitch(this,this._updateAnimatedZoom);this._updateAnimatedPan=_4.hitch(this,this._updateAnimatedPan);this._onAnimPanEnd=_4.hitch(this,this._onAnimPanEnd);},buildRendering:function(){this.inherited(arguments);this.canvas=_4.create("canvas",{},this.domNode);_4.addClass(this.domNode,"mblImageView");},postCreate:function(){this.inherited(arguments);this.size=_4.marginBox(this.domNode);_4.style(this.canvas,{width:this.size.w+"px",height:this.size.h+"px"});this.canvas.height=this.size.h;this.canvas.width=this.size.w;var _245=this;this.connect(this.domNode,"onmousedown",function(_246){if(_245.isAnimating()){return;}if(_245.panX){_245.handleDragEnd();}_245.downX=_246.targetTouches?_246.targetTouches[0].clientX:_246.clientX;_245.downY=_246.targetTouches?_246.targetTouches[0].clientY:_246.clientY;});this.connect(this.domNode,"onmousemove",function(_247){if(_245.isAnimating()){return;}if((!_245.downX&&_245.downX!==0)||(!_245.downY&&_245.downY!==0)){return;}if((!_245.disableSwipe&&_245.zoom==1)||(!_245.disableAutoZoom&&_245.zoom!=1)){var x=_247.targetTouches?_247.targetTouches[0].clientX:_247.pageX;var y=_247.targetTouches?_247.targetTouches[0].clientY:_247.pageY;_245.panX=x-_245.downX;_245.panY=y-_245.downY;if(_245.zoom==1){if(Math.abs(_245.panX)>10){_245.render();}}else{if(Math.abs(_245.panX)>10||Math.abs(_245.panY)>10){_245.render();}}}});this.connect(this.domNode,"onmouseout",function(_248){if(!_245.isAnimating()&&_245.panX){_245.handleDragEnd();}});this.connect(this.domNode,"onmouseover",function(_249){_245.downX=_245.downY=null;});this.connect(this.domNode,"onclick",function(_24a){if(_245.isAnimating()){return;}if(_245.downX==null||_245.downY==null){return;}var x=(_24a.targetTouches?_24a.targetTouches[0].clientX:_24a.pageX);var y=(_24a.targetTouches?_24a.targetTouches[0].clientY:_24a.pageY);if(Math.abs(_245.panX)>14||Math.abs(_245.panY)>14){_245.downX=_245.downY=null;_245.handleDragEnd();return;}_245.downX=_245.downY=null;if(!_245.disableAutoZoom){if(!_245._centerImg||!_245._centerImg._loaded){return;}if(_245.zoom!=1){_245.set("animatedZoom",1);return;}var pos=_4._abs(_245.domNode);var _24b=_245.size.w/_245._centerImg.width;var _24c=_245.size.h/_245._centerImg.height;_245.zoomTo(((x-pos.x)/_24b)-_245.panX,((y-pos.y)/_24c)-_245.panY,_245.autoZoomLevel);}});_4.connect(this.domNode,"flick",this,"handleFlick");},isAnimating:function(){return this._anim&&this._anim.status()=="playing";},handleDragEnd:function(){this.downX=this.downY=null;console.log("handleDragEnd");if(this.zoom==1){if(!this.panX){return;}var _24d=(this._leftImg&&this._leftImg._loaded)||(this._leftSmallImg&&this._leftSmallImg._loaded);var _24e=(this._rightImg&&this._rightImg._loaded)||(this._rightSmallImg&&this._rightSmallImg._loaded);var _24f=!(Math.abs(this.panX)<this._centerImg._baseWidth/2)&&((this.panX>0&&_24d?1:0)||(this.panX<0&&_24e?1:0));if(!_24f){this._animPanTo(0,_4.fx.easing.expoOut,700);}else{this.moveTo(this.panX);}}else{if(!this.panX&&!this.panY){return;}this.zoomCenterX-=(this.panX/this.zoom);this.zoomCenterY-=(this.panY/this.zoom);this.panX=this.panY=0;}},handleFlick:function(_250){if(this.zoom==1&&_250.duration<500){if(_250.direction=="ltr"){this.moveTo(1);}else{if(_250.direction=="rtl"){this.moveTo(-1);}}this.downX=this.downY=null;}},moveTo:function(_251){_251=_251>0?1:-1;var _252;if(_251<1){if(this._rightImg&&this._rightImg._loaded){_252=this._rightImg;}else{if(this._rightSmallImg&&this._rightSmallImg._loaded){_252=this._rightSmallImg;}}}else{if(this._leftImg&&this._leftImg._loaded){_252=this._leftImg;}else{if(this._leftSmallImg&&this._leftSmallImg._loaded){_252=this._leftSmallImg;}}}this._moveDir=_251;var _253=this;if(_252&&_252._loaded){this._animPanTo(this.size.w*_251,null,500,function(){_253.panX=0;_253.panY=0;if(_251<0){_253._switchImage("left","right");}else{_253._switchImage("right","left");}_253.render();_253.onChange(_251*-1);});}else{console.log("moveTo image not loaded!",_252);this._animPanTo(0,_4.fx.easing.expoOut,700);}},_switchImage:function(_254,_255){var _256="_"+_254+"SmallImg";var _257="_"+_254+"Img";var _258="_"+_255+"SmallImg";var _259="_"+_255+"Img";this[_257]=this._centerImg;this[_256]=this._centerSmallImg;this[_257]._type=_254;if(this[_256]){this[_256]._type=_254;}this._centerImg=this[_259];this._centerSmallImg=this[_258];this._centerImg._type="center";if(this._centerSmallImg){this._centerSmallImg._type="center";}this[_259]=this[_258]=null;},_animPanTo:function(to,_25a,_25b,_25c){this._animCallback=_25c;this._anim=new _4.Animation({curve:[this.panX,to],onAnimate:this._updateAnimatedPan,duration:_25b||500,easing:_25a,onEnd:this._onAnimPanEnd});this._anim.play();return this._anim;},onChange:function(_25d){},_updateAnimatedPan:function(_25e){this.panX=_25e;this.render();},_onAnimPanEnd:function(){this.panX=this.panY=0;if(this._animCallback){this._animCallback();}},zoomTo:function(_25f,_260,zoom){this.set("zoomCenterX",_25f);this.set("zoomCenterY",_260);this.set("animatedZoom",zoom);},render:function(){var cxt=this.canvas.getContext("2d");cxt.clearRect(0,0,this.canvas.width,this.canvas.height);this._renderImg(this._centerSmallImg,this._centerImg,this.zoom==1?(this.panX<0?1:this.panX>0?-1:0):0);if(this.zoom==1&&this.panX!=0){if(this.panX>0){this._renderImg(this._leftSmallImg,this._leftImg,1);}else{this._renderImg(this._rightSmallImg,this._rightImg,-1);}}},_renderImg:function(_261,_262,_263){var img=(_262&&_262._loaded)?_262:_261;if(!img||!img._loaded){return;}var cxt=this.canvas.getContext("2d");var _264=img._baseWidth;var _265=img._baseHeight;var _266=_264*this.zoom;var _267=_265*this.zoom;var _268=Math.min(this.size.w,_266);var _269=Math.min(this.size.h,_267);var _26a=this.dispWidth=img.width*(_268/_266);var _26b=this.dispHeight=img.height*(_269/_267);var _26c=this.zoomCenterX-(this.panX/this.zoom);var _26d=this.zoomCenterY-(this.panY/this.zoom);var _26e=Math.floor(Math.max(_26a/2,Math.min(img.width-_26a/2,_26c)));var _26f=Math.floor(Math.max(_26b/2,Math.min(img.height-_26b/2,_26d)));var _270=Math.max(0,Math.round((img.width-_26a)/2+(_26e-img._centerX)));var _271=Math.max(0,Math.round((img.height-_26b)/2+(_26f-img._centerY)));var _272=Math.round(Math.max(0,this.canvas.width-_268)/2);var _273=Math.round(Math.max(0,this.canvas.height-_269)/2);var _274=_268;var _275=_26a;if(this.zoom==1&&_263&&this.panX){if(this.panX<0){if(_263>0){_268-=Math.abs(this.panX);_272=0;}else{if(_263<0){_268=Math.max(1,Math.abs(this.panX)-5);_272=this.size.w-_268;}}}else{if(_263>0){_268=Math.max(1,Math.abs(this.panX)-5);_272=0;}else{if(_263<0){_268-=Math.abs(this.panX);_272=this.size.w-_268;}}}_26a=Math.max(1,Math.floor(_26a*(_268/_274)));if(_263>0){_270=(_270+_275)-(_26a);}_270=Math.floor(_270);}try{cxt.drawImage(img,Math.max(0,_270),_271,Math.min(_275,_26a),_26b,_272,_273,Math.min(_274,_268),_269);}catch(e){console.log("Caught Error",e,"type=",img._type,"oldDestWidth = ",_274,"destWidth",_268,"destX",_272,"oldSourceWidth=",_275,"sourceWidth=",_26a,"sourceX = "+_270);}},_setZoomAttr:function(_276){this.zoom=Math.min(this.maxZoom,Math.max(1,_276));if(this.zoom==1&&this._centerImg&&this._centerImg._loaded){if(!this.isAnimating()){this.zoomCenterX=this._centerImg.width/2;this.zoomCenterY=this._centerImg.height/2;}this.panX=this.panY=0;}this.render();},_setZoomCenterXAttr:function(_277){if(_277!=this.zoomCenterX){if(this._centerImg&&this._centerImg._loaded){_277=Math.min(this._centerImg.width,_277);}this.zoomCenterX=Math.max(0,Math.round(_277));}},_setZoomCenterYAttr:function(_278){if(_278!=this.zoomCenterY){if(this._centerImg&&this._centerImg._loaded){_278=Math.min(this._centerImg.height,_278);}this.zoomCenterY=Math.max(0,Math.round(_278));}},_setZoomCenterAttr:function(_279){if(_279.x!=this.zoomCenterX||_279.y!=this.zoomCenterY){this.set("zoomCenterX",_279.x);this.set("zoomCenterY",_279.y);this.render();}},_setAnimatedZoomAttr:function(_27a){if(this._anim&&this._anim.status()=="playing"){return;}this._anim=new _4.Animation({curve:[this.zoom,_27a],onAnimate:this._updateAnimatedZoom,onEnd:this._onAnimEnd});this._anim.play();},_updateAnimatedZoom:function(_27b){this._setZoomAttr(_27b);},_setCenterUrlAttr:function(_27c){this._setImage("center",_27c);},_setLeftUrlAttr:function(_27d){this._setImage("left",_27d);},_setRightUrlAttr:function(_27e){this._setImage("right",_27e);},_setImage:function(name,_27f){var _280=null;var _281=null;if(_4.isString(_27f)){_281=_27f;}else{_281=_27f.large;_280=_27f.small;}if(this["_"+name+"Img"]&&this["_"+name+"Img"]._src==_281){return;}var _282=this["_"+name+"Img"]=new Image();_282._type=name;_282._loaded=false;_282._src=_281;_282._conn=_4.connect(_282,"onload",this.handleLoad);if(_280){var _283=this["_"+name+"SmallImg"]=new Image();_283._type=name;_283._loaded=false;_283._conn=_4.connect(_283,"onload",this.handleLoad);_283._isSmall=true;_283._src=_280;_283.src=_280;}_282.src=_281;},handleLoad:function(evt){var img=evt.target;img._loaded=true;_4.disconnect(img._conn);var type=img._type;switch(type){case "center":this.zoomCenterX=img.width/2;this.zoomCenterY=img.height/2;break;}var _284=img.height;var _285=img.width;if(_285/this.size.w<_284/this.size.h){img._baseHeight=this.canvas.height;img._baseWidth=_285/(_284/this.size.h);}else{img._baseWidth=this.canvas.width;img._baseHeight=_284/(_285/this.size.w);}img._centerX=_285/2;img._centerY=_284/2;this.render();this.onLoad(img._type,img._src,img._isSmall);},onLoad:function(type,url,_286){}});}if(!_4._hasResource["dojox.mobile.app.ImageThumbView"]){_4._hasResource["dojox.mobile.app.ImageThumbView"]=true;_4.provide("dojox.mobile.app.ImageThumbView");_4.experimental("dojox.mobile.app.ImageThumbView");_4.declare("dojox.mobile.app.ImageThumbView",_5._WidgetBase,{items:[],urlParam:"url",labelParam:null,itemTemplate:"<div class=\"mblThumbInner\">"+"<div class=\"mblThumbOverlay\"></div>"+"<div class=\"mblThumbMask\">"+"<div class=\"mblThumbSrc\" style=\"background-image:url(${url})\"></div>"+"</div>"+"</div>",minPadding:4,maxPerRow:3,maxRows:-1,baseClass:"mblImageThumbView",thumbSize:"medium",animationEnabled:true,selectedIndex:-1,cache:null,cacheMustMatch:false,clickEvent:"onclick",cacheBust:false,disableHide:false,constructor:function(_287,node){},postCreate:function(){this.inherited(arguments);var _288=this;var _289="mblThumbHover";this.addThumb=_4.hitch(this,this.addThumb);this.handleImgLoad=_4.hitch(this,this.handleImgLoad);this.hideCached=_4.hitch(this,this.hideCached);this._onLoadImages={};this.cache=[];this.visibleImages=[];this._cacheCounter=0;this.connect(this.domNode,this.clickEvent,function(_28a){var _28b=_288._getItemNodeFromEvent(_28a);if(_28b&&!_28b._cached){_288.onSelect(_28b._item,_28b._index,_288.items);_4.query(".selected",this.domNode).removeClass("selected");_4.addClass(_28b,"selected");}});_4.addClass(this.domNode,this.thumbSize);this.resize();this.render();},onSelect:function(item,_28c,_28d){},_setAnimationEnabledAttr:function(_28e){this.animationEnabled=_28e;_4[_28e?"addClass":"removeClass"](this.domNode,"animated");},_setItemsAttr:function(_28f){this.items=_28f||[];var urls={};var i;for(i=0;i<this.items.length;i++){urls[this.items[i][this.urlParam]]=1;}var _290=[];for(var url in this._onLoadImages){if(!urls[url]&&this._onLoadImages[url]._conn){_4.disconnect(this._onLoadImages[url]._conn);this._onLoadImages[url].src=null;_290.push(url);}}for(i=0;i<_290.length;i++){delete this._onLoadImages[url];}this.render();},_getItemNode:function(node){while(node&&!_4.hasClass(node,"mblThumb")&&node!=this.domNode){node=node.parentNode;}return (node==this.domNode)?null:node;},_getItemNodeFromEvent:function(_291){if(_291.touches&&_291.touches.length>0){_291=_291.touches[0];}return this._getItemNode(_291.target);},resize:function(){this._thumbSize=null;this._size=_4.contentBox(this.domNode);this.disableHide=true;this.render();this.disableHide=false;},hideCached:function(){for(var i=0;i<this.cache.length;i++){if(this.cache[i]){_4.style(this.cache[i],"display","none");}}},render:function(){var i;var url;var item;var _292;while(this.visibleImages&&this.visibleImages.length>0){_292=this.visibleImages.pop();this.cache.push(_292);if(!this.disableHide){_4.addClass(_292,"hidden");}_292._cached=true;}if(this.cache&&this.cache.length>0){setTimeout(this.hideCached,1000);}if(!this.items||this.items.length==0){return;}for(i=0;i<this.items.length;i++){item=this.items[i];url=(_4.isString(item)?item:item[this.urlParam]);this.addThumb(item,url,i);if(this.maxRows>0&&(i+1)/this.maxPerRow>=this.maxRows){break;}}if(!this._thumbSize){return;}var _293=0;var row=-1;var _294=this._thumbSize.w+(this.padding*2);var _295=this._thumbSize.h+(this.padding*2);var _296=this.thumbNodes=_4.query(".mblThumb",this.domNode);var pos=0;_296=this.visibleImages;for(i=0;i<_296.length;i++){if(_296[i]._cached){continue;}if(pos%this.maxPerRow==0){row++;}_293=pos%this.maxPerRow;this.place(_296[i],(_293*_294)+this.padding,(row*_295)+this.padding);if(!_296[i]._loading){_4.removeClass(_296[i],"hidden");}if(pos==this.selectedIndex){_4[pos==this.selectedIndex?"addClass":"removeClass"](_296[i],"selected");}pos++;}var _297=Math.ceil(pos/this.maxPerRow);this._numRows=_297;this.setContainerHeight((_297*(this._thumbSize.h+this.padding*2)));},setContainerHeight:function(_298){_4.style(this.domNode,"height",_298+"px");},addThumb:function(item,url,_299){var _29a;var _29b=false;if(this.cache.length>0){var _29c=false;for(var i=0;i<this.cache.length;i++){if(this.cache[i]._url==url){_29a=this.cache.splice(i,1)[0];_29c=true;break;}}if(!_29a&&!this.cacheMustMatch){_29a=this.cache.pop();_4.removeClass(_29a,"selected");}else{_29b=true;}}if(!_29a){_29a=_4.create("div",{"class":"mblThumb hidden",innerHTML:_4.string.substitute(this.itemTemplate,{url:url},null,this)},this.domNode);}if(this.labelParam){var _29d=_4.query(".mblThumbLabel",_29a)[0];if(!_29d){_29d=_4.create("div",{"class":"mblThumbLabel"},_29a);}_29d.innerHTML=item[this.labelParam]||"";}_4.style(_29a,"display","");if(!this.disableHide){_4.addClass(_29a,"hidden");}if(!_29b){var _29e=_4.create("img",{});_29e._thumbDiv=_29a;_29e._conn=_4.connect(_29e,"onload",this.handleImgLoad);_29e._url=url;_29a._loading=true;this._onLoadImages[url]=_29e;if(_29e){_29e.src=url;}}this.visibleImages.push(_29a);_29a._index=_299;_29a._item=item;_29a._url=url;_29a._cached=false;if(!this._thumbSize){this._thumbSize=_4.marginBox(_29a);if(this._thumbSize.h==0){this._thumbSize.h=100;this._thumbSize.w=100;}if(this.labelParam){this._thumbSize.h+=8;}this.calcPadding();}},handleImgLoad:function(_29f){var img=_29f.target;_4.disconnect(img._conn);_4.removeClass(img._thumbDiv,"hidden");img._thumbDiv._loading=false;img._conn=null;var url=img._url;if(this.cacheBust){url+=(url.indexOf("?")>-1?"&":"?")+"cacheBust="+(new Date()).getTime()+"_"+(this._cacheCounter++);}_4.query(".mblThumbSrc",img._thumbDiv).style("backgroundImage","url("+url+")");delete this._onLoadImages[img._url];},calcPadding:function(){var _2a0=this._size.w;var _2a1=this._thumbSize.w;var _2a2=_2a1+this.minPadding;this.maxPerRow=Math.floor(_2a0/_2a2);this.padding=Math.floor((_2a0-(_2a1*this.maxPerRow))/(this.maxPerRow*2));},place:function(node,x,y){_4.style(node,{"-webkit-transform":"translate("+x+"px,"+y+"px)"});},destroy:function(){var img;var _2a3=0;for(var url in this._onLoadImages){img=this._onLoadImages[url];if(img){img.src=null;_2a3++;}}this.inherited(arguments);}});}if(!_4._hasResource["dojox.mobile.app._base"]){_4._hasResource["dojox.mobile.app._base"]=true;_4.provide("dojox.mobile.app._base");_4.experimental("dojox.mobile.app._base");(function(){var _2a4;var _2a5;var _2a6=["dojox.mobile","dojox.mobile.parser"];var _2a7={};var _2a8;var _2a9;var _2aa=[];function _2ab(_2ac,_2ad){var _2ae;var url;do{_2ae=_2ac.pop();if(_2ae.source){url=_2ae.source;}else{if(_2ae.module){url=_4.baseUrl+_4._getModuleSymbols(_2ae.module).join("/")+".js";}else{alert("Error: invalid JavaScript resource "+_4.toJson(_2ae));return;}}}while(_2ac.length>0&&_2a7[url]);if(_2ac.length<1&&_2a7[url]){_2ad();return;}_4.xhrGet({url:url,sync:false}).addCallbacks(function(text){_4["eval"](text);_2a7[url]=true;if(_2ac.length>0){_2ab(_2ac,_2ad);}else{_2ad();}},function(){alert("Failed to load resource "+url);});};var _2af=function(){_2a4=new _6.mobile.app.StageController(_2a9);var _2b0={id:"com.test.app",version:"1.0.0",initialScene:"main"};if(_4.global["appInfo"]){_4.mixin(_2b0,_4.global["appInfo"]);}_2a5=_6.mobile.app.info=_2b0;if(_2a5.title){var _2b1=_4.query("head title")[0]||_4.create("title",{},_4.query("head")[0]);document.title=_2a5.title;}_2a4.pushScene(_2a5.initialScene);};var _2b2=function(){var _2b3=false;if(_4.global.BackButton){BackButton.override();_4.connect(document,"backKeyDown",function(e){_4.publish("/dojox/mobile/app/goback");});_2b3=true;}else{if(_4.global.Mojo){}}if(_2b3){_4.addClass(_4.body(),"mblNativeBack");}};_4.mixin(_6.mobile.app,{init:function(node){_2a9=node||_4.body();_6.mobile.app.STAGE_CONTROLLER_ACTIVE=true;_4.subscribe("/dojox/mobile/app/goback",function(){_2a4.popScene();});_4.subscribe("/dojox/mobile/app/alert",function(_2b4){_6.mobile.app.getActiveSceneController().showAlertDialog(_2b4);});_4.subscribe("/dojox/mobile/app/pushScene",function(_2b5,_2b6){_2a4.pushScene(_2b5,_2b6||{});});_4.xhrGet({url:"view-resources.json",load:function(data){var _2b7=[];if(data){_2aa=data=_4.fromJson(data);for(var i=0;i<data.length;i++){if(!data[i].scene){_2b7.push(data[i]);}}}if(_2b7.length>0){_2ab(_2b7,_2af);}else{_2af();}},error:_2af});_2b2();},getActiveSceneController:function(){return _2a4.getActiveSceneController();},getStageController:function(){return _2a4;},loadResources:function(_2b8,_2b9){_2ab(_2b8,_2b9);},loadResourcesForScene:function(_2ba,_2bb){var _2bc=[];for(var i=0;i<_2aa.length;i++){if(_2aa[i].scene==_2ba){_2bc.push(_2aa[i]);}}if(_2bc.length>0){_2ab(_2bc,_2bb);}else{_2bb();}},resolveTemplate:function(_2bd){return "app/views/"+_2bd+"/"+_2bd+"-scene.html";},resolveAssistant:function(_2be){return "app/assistants/"+_2be+"-assistant.js";}});})();}if(!_4._hasResource["dojox.mobileApp"]){_4._hasResource["dojox.mobileApp"]=true;_4.provide("dojox.mobileApp");}}};});
