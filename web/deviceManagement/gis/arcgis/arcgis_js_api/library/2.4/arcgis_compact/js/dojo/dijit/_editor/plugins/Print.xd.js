/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[esri._dojoScopeName||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._editor.plugins.Print"],["require","dijit._editor._Plugin"],["require","dijit.form.Button"],["require","dojo.i18n"],["requireLocalization","dijit._editor","commands",null,"ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,kk,ko,nb,nl,pl,pt,pt-pt,ro,ru,sk,sl,sv,th,tr,zh,zh-tw","ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,kk,ko,nb,nl,pl,pt,pt-pt,ro,ru,sk,sl,sv,th,tr,zh,zh-tw"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._editor.plugins.Print"]){_4._hasResource["dijit._editor.plugins.Print"]=true;_4.provide("dijit._editor.plugins.Print");_4.require("dijit._editor._Plugin");_4.require("dijit.form.Button");_4.require("dojo.i18n");_4.declare("dijit._editor.plugins.Print",_5._editor._Plugin,{_initButton:function(){var _7=_4.i18n.getLocalization("dijit._editor","commands"),_8=this.editor;this.button=new _5.form.Button({label:_7["print"],dir:_8.dir,lang:_8.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Print",tabIndex:"-1",onClick:_4.hitch(this,"_print")});},setEditor:function(_9){this.editor=_9;this._initButton();this.editor.onLoadDeferred.addCallback(_4.hitch(this,function(){if(!this.editor.iframe.contentWindow["print"]){this.button.set("disabled",true);}}));},updateState:function(){var _a=this.get("disabled");if(!this.editor.iframe.contentWindow["print"]){_a=true;}this.button.set("disabled",_a);},_print:function(){var _b=this.editor.iframe;if(_b.contentWindow["print"]){if(!_4.isOpera&&!_4.isChrome){_5.focus(_b);_b.contentWindow.print();}else{var _c=this.editor.document;var _d=this.editor.get("value");_d="<html><head><meta http-equiv='Content-Type' "+"content='text/html; charset='UTF-8'></head><body>"+_d+"</body></html>";var _e=window.open("javascript: ''","","status=0,menubar=0,location=0,toolbar=0,"+"width=1,height=1,resizable=0,scrollbars=0");_e.document.open();_e.document.write(_d);_e.document.close();var _f=[];var _10=_c.getElementsByTagName("style");if(_10){var i;for(i=0;i<_10.length;i++){var _11=_10[i].innerHTML;var _12=_e.document.createElement("style");_12.appendChild(_e.document.createTextNode(_11));_e.document.getElementsByTagName("head")[0].appendChild(_12);}}_e.print();_e.close();}}}});_4.subscribe(_5._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var _13=o.args.name.toLowerCase();if(_13==="print"){o.plugin=new _5._editor.plugins.Print({command:"print"});}});}}};});