<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Install notes for the ArcGIS API for JavaScript&#153 Version 2.4</title>
<link href="../../jsdoc.css" type="text/css" rel="stylesheet">

</head>

<body>
<body id="theBody" >
<div id="pageBanner">Install notes for the ArcGIS API for JavaScript&#153</div>

<div id="nstext"><H4 class=dtH4>Installing the ArcGIS API for JavaScript&#153 Library</H4>


<p>The instructions below assume that you are installing the ArcGIS JavaScript API library in the following location on an IIS Web Server, "http://&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/" where &lt;myserver&gt; is the domain name of your Web site.  After copying files to your Web server, you will need to edit some files to include the URL to the server and directory that you are planning to install to.</p>

<p>For instructions on deploying the library on Linux please go <a href="install_linux.htm">here</a>. </p>

<p>ArcGIS JSAPI 2.4 contains two builds--a normal build and a compact build.  The compact build removes the Dojo Dijit dependancy and minimizes the non-essential ArcGIS JSAPI classes.  Please see the <a href='../sdk/help/jshelp/inside_compactbuild.htm'>documentation</a> for more details.</p>

<p>Your directions may differ depending on your server configuration or Web server, but the process is the same.</p>

<ol>
<li>Copy <code>\arcgis_js_api\library</code> and all its contents from the DVD to your Web server.  In this example the files are copied to
  	<p><code>
	C:\Inetpub\wwwroot\arcgis_js_api\library
	</code></p>
</li>

<p>Configuration options for normal build:</b>
<li>Open <code>C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis\js\esri\esri.js</code> in a text editor.</li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>"&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/"</code></li>

<li>Open  <code>C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis\js\dojo\dojo\dojo.xd.js</code>	in a text editor. </li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/'</code></li>

<li>Open  <code>C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis\js\dojo\dojo\dojo.xd.js.uncompressed.js</code>	in a text editor. </li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/'</code></li>

<p>Configuration options for compact build:</b>
<li>Open <code>C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis_compact\js\esri\esri.js</code> in a text editor.</li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>"&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/"</code></li>

<li>Open  <code>C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis_compact\js\dojo\dojo\dojo.xd.js</code>	in a text editor. </li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/'</code></li>

<li>Open  <code>C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis_compact\js\dojo\dojo\dojo.xd.js.uncompressed.js</code>	in a text editor. </li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/'</code></li>
<li>Search for the text <code>'[HOSTNAME_AND_PATH_TO_JSAPI]'</code>, and replace this text with <code>'&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/'</code></li>

<li>Deploy a handler.  The JavaScript APIs stream multiple JavaScript files.  In order to have one URL that delivers all the JavaScript content you must deploy a handler that simultaneously streams the appropriate files to the browser.  Included in the library directory are three handlers that you can use.  Use Default.ashx for IIS, index.jsp for a Java Application server (such as Tomcat), or index.php for a php application server.  Note that the handlers have changed at version 2.0.  If you installed a previous version of the handler you will need to replace this handler with 2.0.

<p>For example, to deploy on IIS you need to modify the default content page to include Default.ashx.
Steps include:</p>
	<ul>
	<li>Open IIS Manager.</li>
	<li>Navigate to folder that contains Default.ashx (in this example this is C:\Inetpub\wwwroot\arcgis_js_api\library\2.4\arcgis).</li>
	<li>Open properties dialog (right click, properties).</li>
	<li>Click the Documents Tab.</li>
	<li>Ensure Enable default content page has been clicked.</li>
	<li>Click Add... Button.</li>
	<li>Enter "Default.ashx" and Add.</li>
	<li>Press OK and Exit.</li>
	</ul>
</li>

<li>Access the ArcGIS JavaScript library from your Web server using the following URL:

<p><code>http://&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/</code> and <code>http://&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis_compact/</code></p>
</li>
<li>Change the ArcGIS Services Directory &quot;View In JavaScript&quot; URL. Instructions are given in &quot;Configuring the REST API&quot; in the ArcGIS Server REST SDK.  On Windows, the location is <code>&lt;Installation Location>\DeveloperKit\Help\REST\index.html</code>.  On UNIX and Linux, the location is <code>http://&lt;myserver&gt;:8399/&lt;instance>/sdk/rest/index.html</code> where <code>myserver</code> is your server name and <code>instance</code> is the instance name (arcgis is the default).
	<ul>
	<li>Find the &quot;JavaScript API&quot; section for either .NET or Java for more information about parameter values.</li>
	<li>For .NET, the parameters to change in <code>rest.config</code> are <code>&lt;ArcGIS></code> and <code>&lt;ArcGISCSS></code>.  Replace <code>serverapi.arcgisonline.com</code> with your server domain name.
	<li>For Java, the parameters to change in <code>rest-config.properties</code> are <code>jsapi.arcgis</code> and <code>jsapi.arcgis.css</code>.  Replace <code>serverapi.arcgisonline.com</code> with your server domain name.
	</ul>
</li>

<li>Test your install.  You can use the following test code to validate your JSAPI library install.  </li>
</ol>

<H4 class=dtH4>Test Code</H4>
  <div class="detailSample">
  <pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt;
    &lt;title&gt;Simple Map&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="http://&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/js/dojo/dijit/themes/tundra/tundra.css"&gt;
    &lt;script type="text/javascript" src="http://&lt;myserver&gt;/arcgis_js_api/library/2.4/arcgis/"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
      dojo.require("esri.map");
      function init() {
        var myMap = new esri.Map("mapDiv");
        //note that if you do not have public Internet access then you will need to point this url to your own locally accesible cached service.
        var myTiledMapServiceLayer = new esri.layers.ArcGISTiledMapServiceLayer("http://server.arcgisonline.com/ArcGIS/rest/services/NGS_Topo_US_2D/MapServer");
        myMap.addLayer(myTiledMapServiceLayer);
      }
      dojo.addOnLoad(init);
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body class="tundra"&gt;
    &lt;div id="mapDiv" style="width:900px; height:600px; border:1px solid #000;"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>

<H4 class=dtH4>Installing the ArcGIS JavaScript API SDK</H4>
The ArcGIS JavaScript API SDK can be copied in its entirety to your Web server directory.  This SDK is equivalent to the version found on the ArcGIS Resource Center:

<p>
<a href="http://resources.esri.com/arcgisserver/apis/javascript/arcgis/index.cfm?fa=home" target="_blank">http://resources.esri.com/arcgisserver/apis/javascript/arcgis/index.cfm?fa=home</a>
 </p>

<ol>
<li>Copy <code>\arcgis_js_api\sdk</code> and all its contents from the DVD to your Web server.  In this example the files are copied to
  	<p><code>
	C:\Inetpub\wwwroot\arcgis_js_api\sdk
	</code></p>

</li>

<li>The start page is "home.htm".  If you chose to do so, you can rename this page.</li>
</ol>

<br/>
<br/>
</div>
</body>
</html>