/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[esri._dojoScopeName||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.layout.AccordionContainer"],["require","dijit._Container"],["require","dijit._Templated"],["require","dijit._CssStateMixin"],["require","dijit.layout.StackContainer"],["require","dijit.layout.ContentPane"],["require","dijit.layout.AccordionPane"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.layout.AccordionContainer"]){_4._hasResource["dijit.layout.AccordionContainer"]=true;_4.provide("dijit.layout.AccordionContainer");_4.require("dijit._Container");_4.require("dijit._Templated");_4.require("dijit._CssStateMixin");_4.require("dijit.layout.StackContainer");_4.require("dijit.layout.ContentPane");_4.require("dijit.layout.AccordionPane");_4.declare("dijit.layout.AccordionContainer",_5.layout.StackContainer,{duration:_5.defaultDuration,buttonWidget:"dijit.layout._AccordionButton",baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";_5.setWaiRole(this.domNode,"tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){var _7=this.selectedChildWidget.containerNode.style;_7.display="";_7.overflow="auto";this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _8=this.selectedChildWidget;if(!_8){return;}var _9=_8._wrapperWidget.domNode,_a=_4._getMarginExtents(_9),_b=_4._getPadBorderExtents(_9),_c=_8._wrapperWidget.containerNode,_d=_4._getMarginExtents(_c),_e=_4._getPadBorderExtents(_c),_f=this._contentBox;var _10=0;_4.forEach(this.getChildren(),function(_11){if(_11!=_8){_10+=_4._getMarginSize(_11._wrapperWidget.domNode).h;}});this._verticalSpace=_f.h-_10-_a.h-_b.h-_d.h-_e.h-_8._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_a.w-_b.w-_d.w-_e.w};if(_8){_8.resize(this._containerContentBox);}},_setupChild:function(_12){_12._wrapperWidget=new _5.layout._AccordionInnerContainer({contentWidget:_12,buttonWidget:this.buttonWidget,id:_12.id+"_wrapper",dir:_12.dir,lang:_12.lang,parent:this});this.inherited(arguments);},addChild:function(_13,_14){if(this._started){_4.place(_13.domNode,this.containerNode,_14);if(!_13._started){_13.startup();}this._setupChild(_13);_4.publish(this.id+"-addChild",[_13,_14]);this.layout();if(!this.selectedChildWidget){this.selectChild(_13);}}else{this.inherited(arguments);}},removeChild:function(_15){if(_15._wrapperWidget){_4.place(_15.domNode,_15._wrapperWidget.domNode,"after");_15._wrapperWidget.destroy();delete _15._wrapperWidget;}_4.removeClass(_15.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _4.map(this.inherited(arguments),function(_16){return _16.declaredClass=="dijit.layout._AccordionInnerContainer"?_16.contentWidget:_16;},this);},destroy:function(){if(this._animation){this._animation.stop();}_4.forEach(this.getChildren(),function(_17){if(_17._wrapperWidget){_17._wrapperWidget.destroy();}else{_17.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_18){_18._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_19){_19._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_1a,_1b,_1c){if(_4.isIE<8){_1c=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var _1d=this;if(_1a){_1a._wrapperWidget.set("selected",true);var d=this._showChild(_1a);if(this.doLayout&&_1a.resize){_1a.resize(this._containerContentBox);}}if(_1b){_1b._wrapperWidget.set("selected",false);if(!_1c){this._hideChild(_1b);}}if(_1c){var _1e=_1a._wrapperWidget.containerNode,_1f=_1b._wrapperWidget.containerNode;var _20=_1a._wrapperWidget.containerNode,_21=_4._getMarginExtents(_20),_22=_4._getPadBorderExtents(_20),_23=_21.h+_22.h;_1f.style.height=(_1d._verticalSpace-_23)+"px";this._animation=new _4.Animation({node:_1e,duration:this.duration,curve:[1,this._verticalSpace-_23-1],onAnimate:function(_24){_24=Math.floor(_24);_1e.style.height=_24+"px";_1f.style.height=(_1d._verticalSpace-_23-_24)+"px";},onEnd:function(){delete _1d._animation;_1e.style.height="auto";_1b._wrapperWidget.containerNode.style.display="none";_1f.style.height="auto";_1d._hideChild(_1b);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyPress:function(e,_25){if(this.disabled||e.altKey||!(_25||e.ctrlKey)){return;}var k=_4.keys,c=e.charOrCode;if((_25&&(c==k.LEFT_ARROW||c==k.UP_ARROW))||(e.ctrlKey&&c==k.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();_4.stopEvent(e);}else{if((_25&&(c==k.RIGHT_ARROW||c==k.DOWN_ARROW))||(e.ctrlKey&&(c==k.PAGE_DOWN||c==k.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();_4.stopEvent(e);}}}});_4.declare("dijit.layout._AccordionInnerContainer",[_5._Widget,_5._CssStateMixin],{baseClass:"dijitAccordionInnerContainer",isContainer:true,isLayoutContainer:true,buildRendering:function(){this.domNode=_4.place("<div class='"+this.baseClass+"'>",this.contentWidget.domNode,"after");var _26=this.contentWidget,cls=_4.getObject(this.buttonWidget);this.button=_26._buttonWidget=(new cls({contentWidget:_26,label:_26.title,title:_26.tooltip,dir:_26.dir,lang:_26.lang,iconClass:_26.iconClass,id:_26.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=_4.place("<div class='dijitAccordionChildWrapper' style='display:none'>",this.domNode);_4.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _27=this.button;this._contentWidgetWatches=[this.contentWidget.watch("title",_4.hitch(this,function(_28,_29,_2a){_27.set("label",_2a);})),this.contentWidget.watch("tooltip",_4.hitch(this,function(_2b,_2c,_2d){_27.set("title",_2d);})),this.contentWidget.watch("iconClass",_4.hitch(this,function(_2e,_2f,_30){_27.set("iconClass",_30);}))];},_setSelectedAttr:function(_31){this._set("selected",_31);this.button.set("selected",_31);if(_31){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();_4.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(){this.contentWidget.destroyRecursive();}});_4.declare("dijit.layout._AccordionButton",[_5._Widget,_5._Templated,_5._CssStateMixin],{templateString:_4.cache("dijit.layout","templates/AccordionButton.html","<div dojoAttachEvent='onclick:_onTitleClick' class='dijitAccordionTitle'>\r\n\t<div dojoAttachPoint='titleNode,focusNode' dojoAttachEvent='onkeypress:_onTitleKeyPress'\r\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\r\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\r\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\r\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\r\n\t\t><img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon\" dojoAttachPoint='iconNode' style=\"vertical-align: middle\" role=\"presentation\"/>\r\n\t\t<span role=\"presentation\" dojoAttachPoint='titleTextNode' class='dijitAccordionText'></span>\r\n\t</div>\r\n</div>\r\n"),attributeMap:_4.mixin(_4.clone(_5.layout.ContentPane.prototype.attributeMap),{label:{node:"titleTextNode",type:"innerHTML"},title:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _32=this.id.replace(" ","_");_4.attr(this.titleTextNode,"id",_32+"_title");_5.setWaiState(this.focusNode,"labelledby",_4.attr(this.titleTextNode,"id"));_4.setSelectable(this.domNode,false);},getTitleHeight:function(){return _4._getMarginSize(this.domNode).h;},_onTitleClick:function(){var _33=this.getParent();_33.selectChild(this.contentWidget,true);_5.focus(this.focusNode);},_onTitleKeyPress:function(evt){return this.getParent()._onKeyPress(evt,this.contentWidget);},_setSelectedAttr:function(_34){this._set("selected",_34);_5.setWaiState(this.focusNode,"expanded",_34);_5.setWaiState(this.focusNode,"selected",_34);this.focusNode.setAttribute("tabIndex",_34?"0":"-1");}});}}};});