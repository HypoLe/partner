/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */

window[esri._dojoScopeName||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","esri.graphic"],["require","esri.geometry"],["require","esri.symbol"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["esri.graphic"]){_4._hasResource["esri.graphic"]=true;_4.provide("esri.graphic");_4.require("esri.geometry");_4.require("esri.symbol");_4.declare("esri.Graphic",null,{constructor:function(_7,_8,_9,_a){if(_7&&!(_7 instanceof esri.geometry.Geometry)){this.geometry=_7.geometry?esri.geometry.fromJson(_7.geometry):null;this.symbol=_7.symbol?esri.symbol.fromJson(_7.symbol):null;this.attributes=_7.attributes?_7.attributes:null;this.infoTemplate=_7.infoTemplate?new esri.InfoTemplate(_7.infoTemplate):null;}else{this.geometry=_7;this.symbol=_8;this.attributes=_9;this.infoTemplate=_a;}},_shape:null,_graphicsLayer:null,_visible:true,visible:true,getDojoShape:function(){return this._shape;},getLayer:function(){return this._graphicsLayer;},setGeometry:function(_b){this.geometry=_b;var gl=this._graphicsLayer;if(gl){gl._updateExtent(this);gl._draw(this,true);}return this;},setSymbol:function(_c,_d){var gl=this._graphicsLayer,_e=this._shape,_f=gl&&gl.renderer;var _10=this.symbol||_f&&_f.getSymbol(this);this.symbol=_c;if(_c){this.symbol._stroke=this.symbol._fill=null;}if(gl){if(_d){if(_e){gl._removeShape(this);}gl._draw(this,true);return this;}var _11=this.geometry.type;if(_11==="point"||_11==="multipoint"){if(_e&&_10&&_c){var _12=_10.type,_13=_c.type,_14=esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE;if(_12!==_13||(_12==="simplemarkersymbol"&&_10.style!==_c.style&&(_10.style===_14||_c.style===_14))){gl._removeShape(this);}}gl._draw(this,true);}else{if(_e){gl._symbolizeShape(this);}}}return this;},setAttributes:function(_15){this.attributes=_15;return this;},setInfoTemplate:function(_16){this.infoTemplate=_16;return this;},_getEffInfoTemplate:function(){var _17=this.getLayer();return this.infoTemplate||(_17&&_17.infoTemplate);},getTitle:function(){var _18=this._getEffInfoTemplate();var _19=_18&&_18.title;if(_4.isFunction(_19)){_19=_19.call(_18,this);}else{if(_4.isString(_19)){var _1a=this._graphicsLayer;var _1b=_1a&&_1a._getDateOpts;_19=esri.substitute(this.attributes,_19,{first:true,dateFormat:_1b&&_1b.call(_1a)});}}return _19;},getContent:function(){var _1c=this._getEffInfoTemplate();var _1d=_1c&&_1c.content;if(_4.isFunction(_1d)){_1d=_1d.call(_1c,this);}else{if(_4.isString(_1d)){var _1e=this._graphicsLayer;var _1f=_1e&&_1e._getDateOpts;_1d=esri.substitute(this.attributes,_1d,{dateFormat:_1f&&_1f.call(_1e)});}}return _1d;},show:function(){this.visible=this._visible=true;if(this._shape){esri.show(this._shape.getEventSource());}else{if(this._graphicsLayer){this._graphicsLayer._draw(this,true);}}return this;},hide:function(){if(this._shape){esri.hide(this._shape.getEventSource());}this.visible=this._visible=false;return this;},toJson:function(){var _20={};if(this.geometry){_20.geometry=this.geometry.toJson();}if(this.attributes){_20.attributes=_4.mixin({},this.attributes);}if(this.symbol){_20.symbol=this.symbol.toJson();}if(this.infoTemplate){_20.infoTemplate=this.infoTemplate.toJson();}return _20;}});_4.declare("esri.InfoTemplate",null,{constructor:function(_21,_22){if(_21&&_4.isObject(_21)&&!_4.isFunction(_21)){_4.mixin(this,_21);}else{this.title=_21||"${*}";this.content=_22||"${*}";}},setTitle:function(_23){this.title=_23;return this;},setContent:function(_24){this.content=_24;return this;},toJson:function(){return {title:this.title,content:this.content};}});}}};});